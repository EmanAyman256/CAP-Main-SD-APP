//@ui5-bundle project1/Component-preload.js
sap.ui.predefine("project1/Component", ["sap/ui/core/UIComponent","project1/model/models"],(e,t)=>{"use strict";return e.extend("project1.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init(){e.prototype.init.apply(this,arguments);this.setModel(t.createDeviceModel(),"device");this.getRouter().initialize()}})});
sap.ui.predefine("project1/controller/AddModel.controller", ["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("project1.controller.AddModel",{onInit(){var e=this.getView();var t=new sap.ui.model.json.JSONModel({});e.setModel(t,"view");fetch("./odata/v4/sales-cloud/Currencies").then(e=>e.json()).then(t=>{var s=new sap.ui.model.json.JSONModel(t.value);e.setModel(s,"currencies")})},onAddModel:function(){const e=this.byId("modelServSpec").getValue();const t=this.byId("blockingIndicator").getSelected();const s=this.byId("serviceSelection").getSelected();const o=this.byId("description");const r=o.getValue();const c=this.byId("searchTerm").getValue();const i=this.byId("currency");const n=this.byId("currency").getSelectedKey();if(!r){o.setValueState("Error");o.setValueStateText("Description is required");sap.m.MessageToast.show("Description is required");return}if(!n){i.setValueState("Error");i.setValueStateText("Currency is required");sap.m.MessageToast.show("Currency is required");return}const a={modelServSpec:e,blockingIndicator:t,serviceSelection:s,description:r,searchTerm:c,currencyCode:n,modelSpecCode:Math.floor(Date.now()/1e3),lastChangeDate:(new Date).toISOString().split("T")[0]};console.log(a);{}fetch("./odata/v4/sales-cloud/ModelSpecifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(e=>{if(!e.ok){console.log(e.statusText);throw new Error("Failed to create model: "+e.statusText)}return e.json()}).then(e=>{sap.m.MessageBox.success("Model saved successfully!,Press OK To return to the main page",{title:"Success",actions:[sap.m.MessageBox.Action.OK],onClose:function(e){if(e===sap.m.MessageBox.Action.OK){var t=sap.ui.core.UIComponent.getRouterFor(this);t.navTo("model")}}.bind(this)});this.byId("modelServSpec").setValue("");this.byId("blockingIndicator").setSelected(false);this.byId("serviceSelection").setSelected(false);this.byId("description").setValue("");this.byId("searchTerm").setValue("");this.byId("currency").setValue("")}).catch(e=>{sap.m.MessageBox.error("Error: "+e.message)})}})});
sap.ui.predefine("project1/controller/AddServiceMaster.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,r,t){"use strict";return e.extend("project1.controller.AddServiceMaster",{onInit:function(){var e=this.getView();var r=new sap.ui.model.json.JSONModel({ServiceNumbers:[]});e.setModel(r,"view");fetch("./odata/v4/sales-cloud/ServiceNumbers").then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}).then(e=>{console.log("Fetched ServiceNumbers:",e.value);r.setData({ServiceNumbers:Array.isArray(e.value)?e.value:[]});r.refresh(true)}).catch(e=>{console.error("Error fetching ServiceNumbers:",e);sap.m.MessageBox.error("Failed to load ServiceNumbers: "+e.message)});this.getOwnerComponent().getRouter().getRoute("serviceMaster").attachMatched(this._onRouteMatched,this);fetch("./odata/v4/sales-cloud/ServiceTypes").then(e=>e.json()).then(r=>{var t=new sap.ui.model.json.JSONModel(r.value);e.setModel(t,"serviceTypes")});fetch("./odata/v4/sales-cloud/MaterialGroups").then(e=>e.json()).then(r=>{var t=new sap.ui.model.json.JSONModel(r.value);e.setModel(t,"materialGroups")});fetch("./odata/v4/sales-cloud/UnitOfMeasurements").then(e=>e.json()).then(r=>{var t=new sap.ui.model.json.JSONModel(r.value);e.setModel(t,"unitsOfMeasurement")})},_onRouteMatched:function(e){var r=e.getParameter("arguments");var t=this.getView().getModel("view");fetch("./odata/v4/sales-cloud/ServiceNumbers").then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}).then(e=>{console.log("Refetched ServiceNumbers on route matched:",e.value);t.setData({ServiceNumbers:Array.isArray(e.value)?e.value:[]});t.refresh(true);console.log("Updated ServiceNumbers array:",t.getProperty("/ServiceNumbers"))}).catch(e=>{console.error("Error refetching ServiceNumbers:",e);sap.m.MessageBox.error("Failed to refresh table: "+e.message)})},_generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var r=Math.random()*16|0,t=e==="x"?r:r&3|8;return t.toString(16)})},_isValidNumber:function(e){return!isNaN(parseInt(e,10))&&e.trim()!==""},onAddPress:function(){var e=this.getView();var r=e.byId("_IDGenInput1").getValue();var t=e.byId("_IDGenInput2").getValue();var s=e.byId("_IDGenInput3").getValue();var a=e.byId("_IDGenInput4").getValue();var o=e.byId("_IDGenCheckBox1").getSelected();var n=e.byId("_IDGenCheckBox3").getSelected();var i=e.byId("_IDGenInput5").getValue();var u=e.byId("_IDGenInput9").getValue();var l=e.byId("_IDGenSelect5").getSelectedKey();var c=e.byId("_IDGenSelect1").getSelectedKey();var d=e.byId("_IDGenSelect2").getSelectedKey();var v=e.byId("_IDGenSelect3").getSelectedKey();var h=e.byId("_IDGenSelect4").getSelectedKey();var m=e.byId("_IDGenCheckBox4").getSelected();if(!this._isValidNumber(r)){sap.m.MessageBox.error("Please enter a valid Service Number (ID).");return}if(!t||!s){sap.m.MessageBox.error("Search Term and Description are required.");return}var g={serviceNumberCode:this._generateUUID(),serviceNumberCodeString:`SN-${r.padStart(3,"0")}`,noServiceNumber:parseInt(r,10),searchTerm:t,description:s,serviceText:a||null,shortTextChangeAllowed:o,deletionIndicator:n,numberToBeConverted:this._isValidNumber(i)?parseInt(i,10):null,convertedNumber:this._isValidNumber(u)?parseInt(u,10):null,serviceTypeCode:l||null,unitOfMeasurementCode:c||null,toBeConvertedUnitOfMeasurement:d||null,defaultUnitOfMeasurement:v||null,mainItem:m,materialGroupCode:h||null,lastChangeDate:(new Date).toISOString().split("T")[0]};console.log("Payload to be sent:",g);fetch("./odata/v4/sales-cloud/ServiceNumbers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}).then(e=>{if(!e.ok){return e.json().then(r=>{throw new Error(r.error?.message||e.statusText)})}return e.json().catch(()=>g)}).then(e=>{sap.m.MessageBox.success("ServiceMaster saved successfully!,Press OK To return to the main page",{title:"Success",actions:[sap.m.MessageBox.Action.OK],onClose:function(e){if(e===sap.m.MessageBox.Action.OK){var r=sap.ui.core.UIComponent.getRouterFor(this);r.navTo("serviceMaster")}}.bind(this)})}).catch(e=>{console.error("Error saving ServiceMaster:",e);sap.m.MessageBox.error("Error: "+e.message)})}})});
sap.ui.predefine("project1/controller/App.controller", ["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("project1.controller.App",{onInit(){}})});
sap.ui.predefine("project1/controller/Example.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/m/MessageBox","sap/m/Dialog","sap/m/Label","sap/m/Input","sap/m/Button"],function(e,t,r,o,s,n,a,i){"use strict";return e.extend("project1.controller.Example",{onInit:function(){var e=new sap.ui.model.json.JSONModel({DocumentNumber:"20000010",SelectedItemNumber:"",ErrorMessage:""});this.getView().setModel(e)},onNextPress:function(){var e=this.getView().getModel();var t=e.getProperty("/SelectedItemNumber");if(!t){e.setProperty("/ErrorMessage","Item Number is required");return}e.setProperty("/ErrorMessage","");r.show("Navigating to next step with item: "+t);var o=sap.ui.core.UIComponent.getRouterFor(this);o.navTo("tendering")}})});
sap.ui.predefine("project1/controller/Formula.controller", ["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/m/Input","sap/m/Label","sap/m/VBox"],function(Controller,MessageToast,Input,Label,VBox){"use strict";return Controller.extend("project1.controller.Formula",{onInit:function(){var e=new sap.ui.model.json.JSONModel({paramCount:0,params:[],paramIdsText:"",relationText:"",formulaReview:"",testValues:[],operations:[{key:"+",text:"+"},{key:"-",text:"-"},{key:"*",text:"*"},{key:"/",text:"/"},{key:"^",text:"^"},{key:"%",text:"%"},{key:"π",text:"π"}],wizard:{currentStep:"step1"}});this.getView().setModel(e);this.byId("step3").attachActivate(this.updateParamIdsText,this);e.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay)},onAddOperation:function(e){var t=this.getView().byId("relationInput");var a=e.getSource().getText();var r=t.getValue();t.setValue(r+" "+a+" ")},onParamCountChange:function(e){var t=this.getView().getModel();var a=parseInt(e.getParameter("value"))||0;t.setProperty("/paramCount",a);var r=this.getView().byId("_IDGenVBox8");r.removeAllItems();var s=[];for(var o=1;o<=a;o++){var n=new sap.m.VBox({items:[new sap.m.Label({text:"ParamID "+o+"*"}),new sap.m.Input({value:{path:"/params/"+(o-1)+"/id",mode:sap.ui.model.BindingMode.TwoWay},placeholder:"Enter ParamID "+o}),new sap.m.Label({text:"Param Description "+o+"*"}),new sap.m.Input({value:{path:"/params/"+(o-1)+"/description",mode:sap.ui.model.BindingMode.TwoWay},placeholder:"Enter Param Description "+o})]});r.addItem(n);s.push({id:"",description:""})}t.setProperty("/params",s)},updateParamIdsText:function(){var e=this.getView().getModel();var t=e.getProperty("/params")||[];var a=e.getProperty("/paramCount");var r=this.getView().byId("paramIdsContainer");r.removeAllItems();t.forEach((t,a)=>{var s=t.id&&t.id.trim()?t.id:"P"+(a+1);var o=new sap.m.Button({text:s,press:()=>{var t=this.getView().byId("relationInput");var a=t.getValue();t.setValue(a+" "+s+" ");e.setProperty("/relationText",t.getValue())},layoutData:new sap.m.FlexItemData({styleClass:"sapUiSmallMarginBegin sapUiSmallMarginEnd"})});r.addItem(o)});var s=this.getView().byId("testInputsContainer");s.removeAllItems();var o=[];for(var n=0;n<a;n++){var i=t[n]?t[n].id:"Param"+(n+1);console.log(i);var l=new Label({text:i+" Value:"});var p=new Input({value:"{/testValues/"+n+"}",type:"Number"});s.addItem(l);s.addItem(p);o.push("")}e.setProperty("/testValues",o)},onShowResult:function(){var oModel=this.getView().getModel();var relation=oModel.getProperty("/relationText");var params=oModel.getProperty("/params");var testValues=oModel.getProperty("/testValues");var expression=relation;for(var i=0;i<params.length;i++){var paramId=params[i].id;var value=testValues[i]||"0";expression=expression.replace(new RegExp(paramId,"g"),value)}try{var result=eval(expression);sap.m.MessageBox.information("Result: "+result,{title:"Calculation Result",actions:[sap.m.MessageBox.Action.OK],onClose:function(e){if(e===sap.m.MessageBox.Action.OK){console.log("User confirmed result")}}})}catch(e){MessageToast.show("Invalid expression: "+e.message)}},onSaveFormula:function(){var e=this.getView();var t=this.getOwnerComponent().getModel();var a=e.byId("formulaNameInput").getValue();var r=e.byId("formulaDescriptionInput").getValue();var s=e.byId("relationInput").getValue();var o=this.getView().getModel();var n=o.getProperty("/params");var i=n.map(e=>e.id);var l=n.map(e=>e.description);var p=i.length;if(!a||!r){sap.m.MessageToast.show("Please fill in all required fields.");return}var u={formula:a,description:r,numberOfParameters:p,parameterIds:i,parameterDescriptions:l,formulaLogic:s,expression:s};fetch("./odata/v4/sales-cloud/Formulas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(e=>{if(!e.ok){throw new Error("Failed to create formula: "+e.statusText)}return e.json()}).then(t=>{sap.m.MessageBox.success("Formula saved successfully!,Press OK To return to the main page",{title:"Success",actions:[sap.m.MessageBox.Action.OK],onClose:function(e){if(e===sap.m.MessageBox.Action.OK){var t=sap.ui.core.UIComponent.getRouterFor(this);t.navTo("formulas")}}.bind(this)});console.log("Created Formula:",t);var a=this.getView().getModel();var r=a.getProperty("/Formulas")||[];r.push(t);a.setProperty("/Formulas",r);e.byId("formulaNameInput").setValue("");e.byId("formulaDescriptionInput").setValue("");e.byId("relationInput").setValue("");var s=this.getView().byId("testInputsContainer");s.removeAllItems();o.setProperty("/params",[]);o.setProperty("/paramCount",0);o.setProperty("/testValues",[])}).catch(e=>{console.error("Error creating Formula:",e);sap.m.MessageBox.error("Error: "+e.message)})},onOperationSelect:function(e){var t=this.getView().byId("relationInput");var a=e.getParameter("selectedItem").getKey();var r=t.getValue();t.setValue(r+" "+a+" ")}})});
sap.ui.predefine("project1/controller/Formulas.controller", ["sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/m/Dialog","sap/m/Input","sap/m/Button","sap/m/Label","sap/m/VBox","sap/ui/model/json/JSONModel"],function(e,t,o,a,s,r,l,n){"use strict";return e.extend("project1.controller.Formulas",{onInit:function(){this.getOwnerComponent().getRouter().getRoute("formulas").attachPatternMatched(this._onRouteMatched,this);var e=new sap.ui.model.json.JSONModel({Formulas:[]});this.getView().setModel(e,"view");var e=new n;fetch("./odata/v4/sales-cloud/Formulas").then(e=>e.json()).then(t=>{e.setData({Formulas:t.value});this.getView().byId("formulasTable").setModel(e)}).catch(e=>{console.error("Error fetching formulas",e)})},_onRouteMatched:function(){this._loadFormulas()},_loadFormulas:function(){var e=new sap.ui.model.json.JSONModel;fetch("./odata/v4/sales-cloud/Formulas").then(e=>e.json()).then(t=>{e.setData({Formulas:t.value});this.getView().byId("formulasTable").setModel(e)}).catch(e=>{console.error("Error fetching formulas",e)})},onNavigateToAddFormula(){this.getOwnerComponent().getRouter().navTo("formula")},onDetails:function(e){var t=e.getSource().getBindingContext();if(!t){return}var o=t.getObject();var a=new sap.ui.model.json.JSONModel({FormulaCode:o.formula,Description:o.description,NumberOfParameters:o.numberOfParameters,Relation:o.formulaLogic});if(!this._oDetailsDialog){this._oDetailsDialog=new sap.m.Dialog({title:"Formula Details",content:new sap.ui.layout.form.SimpleForm({editable:false,content:[new sap.m.Label({text:"Formula Code:"}),new sap.m.Text({text:"{/FormulaCode}"}),new sap.m.Label({text:"Description:"}),new sap.m.Text({text:"{/Description}"}),new sap.m.Label({text:"NumberOfParameters:"}),new sap.m.Text({text:"{/NumberOfParameters}"}),new sap.m.Label({text:"Relation:"}),new sap.m.Text({text:"{/Relation}"})]}),endButton:new sap.m.Button({text:"Ok",type:"Emphasized",press:function(){this._oDetailsDialog.close()}.bind(this)})});this.getView().addDependent(this._oDetailsDialog)}this._oDetailsDialog.setModel(a);this._oDetailsDialog.open()},onDelete:function(e){var o=e.getSource().getBindingContext();if(o){var a=o.getPath();var s=this.getView().byId("formulasTable").getModel();var r=s.getProperty(a);if(!r){sap.m.MessageBox.error("Could not find model data for deletion.");return}t.confirm("Are you sure you want to delete "+r.formula+"?",{title:"Confirm Deletion",onClose:function(e){if(e===t.Action.OK){fetch(`./odata/v4/sales-cloud/Formulas('${r.formulaCode}')`,{method:"DELETE"}).then(e=>{if(!e.ok){throw new Error("Failed to delete: "+e.statusText)}var t=s.getProperty("/Formulas");var o=t.findIndex(e=>e.formulaCode===r.formulaCode);if(o>-1){t.splice(o,1);s.setProperty("/Formulas",t)}sap.m.MessageToast.show("Formula deleted successfully!")}).catch(e=>{console.error("Error deleting Formula:",e);sap.m.MessageBox.error("Error: "+e.message)})}}})}}})});
sap.ui.predefine("project1/controller/Model.controller", ["sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/m/Dialog","sap/m/Input","sap/m/Button","sap/m/Label","sap/m/VBox","sap/ui/model/json/JSONModel"],function(e,t,o,n,i,s,r,c){"use strict";return e.extend("project1.controller.Model",{onInit:function(){this.getOwnerComponent().getRouter().getRoute("model").attachPatternMatched(this._onRouteMatched,this);var e=new sap.ui.model.json.JSONModel({Models:[]});this.getView().setModel(e,"view");fetch("./odata/v4/sales-cloud/Currencies").then(e=>e.json()).then(e=>{var t=new sap.ui.model.json.JSONModel(e.value);this.getView().setModel(t,"currencies")});fetch("./odata/v4/sales-cloud/ModelSpecifications").then(e=>e.json()).then(t=>{e.setData({Models:t.value});this.getView().byId("modelTable").setModel(e)}).catch(e=>{console.error("Error fetching models",e)})},_onRouteMatched:function(){this._loadModels()},_loadModels:function(){var e=new sap.ui.model.json.JSONModel;fetch("./odata/v4/sales-cloud/ModelSpecifications").then(e=>e.json()).then(t=>{e.setData({Models:t.value});console.log("Models",t.value);this.getView().byId("modelTable").setModel(e)}).catch(e=>{console.error("Error fetching models",e)})},onEdit:function(e){var r=e.getSource();var c=r.getParent().getParent().getBindingContext();if(!c){t.warning("Error: Unable to retrieve row data");return}var l=c.getObject();var d=this.getView().getModel("view");if(!this._oEditDialog){this._oModelServSpecInput=new n;this._oBlockingIndicatorInput=new sap.m.CheckBox;this._oServiceSelectionInput=new sap.m.CheckBox;this._oDescriptionInput=new n;this._oSearchTermInput=new n;this._oCurrencyCodeSelect=new sap.m.Select({id:"currency",class:"sapUiSmallMarginStart",width:"200px",forceSelection:false,items:{path:"currencies>/",template:new sap.ui.core.Item({key:"{currencies>currencyCode}",text:"{currencies>description}"})}});this._oCurrencyCodeSelect.insertItem(new sap.ui.core.Item({key:"",text:"Cancel"}),0);this._oEditDialog=new o({title:"Edit Model",titleAlignment:"Center",contentWidth:"600px",content:new sap.ui.layout.form.SimpleForm({editable:true,layout:"ResponsiveGridLayout",content:[new s({text:"modelServSpec",design:"Bold"}),this._oModelServSpecInput,new s({text:"blockingIndicator",design:"Bold"}),this._oBlockingIndicatorInput,new s({text:"serviceSelection",design:"Bold"}),this._oServiceSelectionInput,new s({text:"description",design:"Bold"}),this._oDescriptionInput,new s({text:"searchTerm",design:"Bold"}),this._oSearchTermInput,new s({text:"currencyCode",design:"Bold"}),this._oCurrencyCodeSelect]}),beginButton:new i({text:"Save",type:"Emphasized",press:()=>{const e={modelServSpec:this._oModelServSpecInput.getValue(),blockingIndicator:this._oBlockingIndicatorInput.getSelected(),serviceSelection:this._oServiceSelectionInput.getSelected(),description:this._oDescriptionInput.getValue(),searchTerm:this._oSearchTermInput.getValue(),currencyCode:this._oCurrencyCodeSelect.getSelectedKey()};fetch(`./odata/v4/sales-cloud/ModelSpecifications('${l.modelSpecCode}')`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{if(!e.ok)throw new Error("Update failed");return e.json()}).then(t=>{console.log(t);var o=this.getView().byId("modelTable").getModel();var n=o.getProperty("/Models")||[];var i=n.findIndex(e=>e.modelSpecCode===l.modelSpecCode);console.log(i);if(i>-1){n[i]=e;o.setProperty("/Models",n)}sap.m.MessageToast.show("Model updated successfully");this._oEditDialog.close()}).catch(e=>{sap.m.MessageBox.error("Error updating model: "+e.message)})}}),endButton:new i({text:"Cancel",press:()=>this._oEditDialog.close()})});this.getView().addDependent(this._oEditDialog)}this._oModelServSpecInput.setValue(l.modelServSpec);this._oBlockingIndicatorInput.setSelected(!!l.blockingIndicator);this._oServiceSelectionInput.setSelected(!!l.serviceSelection);this._oDescriptionInput.setValue(l.description);this._oSearchTermInput.setValue(l.searchTerm);this._oCurrencyCodeSelect.setValue(l.currencyCode);this._oEditDialog.open()},onDelete:function(e){var o=e.getSource().getBindingContext();if(o){var n=o.getPath();var i=this.getView().byId("modelTable").getModel();var s=i.getProperty(n);if(!s){sap.m.MessageBox.error("Could not find model data for deletion.");return}t.confirm("Are you sure you want to delete "+s.modelServSpec+"?",{title:"Confirm Deletion",onClose:function(e){if(e===t.Action.OK){fetch(`./odata/v4/sales-cloud/ModelSpecifications('${s.modelSpecCode}')`,{method:"DELETE"}).then(e=>{if(!e.ok){throw new Error("Failed to delete: "+e.statusText)}var t=i.getProperty("/Models");var o=t.findIndex(e=>e.modelSpecCode===s.modelSpecCode);if(o>-1){t.splice(o,1);i.setProperty("/Models",t)}sap.m.MessageToast.show("Model deleted successfully!")}).catch(e=>{console.error("Error deleting Model:",e);sap.m.MessageBox.error("Error: "+e.message)})}}})}},onPress(){this.getOwnerComponent().getRouter().navTo("addModel")},onNavigateToModelServices:function(e){const t=e.getSource().getBindingContext();const o=t.getObject();const n=o.modelSpecCode;console.log("Nav to Service",o);this.getOwnerComponent().getRouter().navTo("modelServices",{modelSpecCode:n,Record:o})}})});
sap.ui.predefine("project1/controller/ModelServices.controller", ["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/m/MessageBox","sap/m/Dialog","sap/m/Input","sap/m/Button","sap/m/Label","sap/m/VBox","sap/m/HBox","sap/m/Table","sap/m/Column","sap/m/ColumnListItem","sap/ui/export/Spreadsheet","sap/ui/export/library","sap/ui/layout/form/SimpleForm"],function(e,t,o,r,a,s,i,l,n,d,c,u,p,m,g){"use strict";return e.extend("project1.controller.ModelServices",{onInit:function(){var e=new sap.ui.model.json.JSONModel({ModelServices:[],Formulas:[],Currency:[],ModelSpecRec:{},LineTypes:[],UOM:[],personnelNumbers:[],ServiceTypes:[],ServiceNumbers:[],MatGroups:[],FormulaParameters:{},HasSelectedFormula:false,Total:0,SubTotal:0,IsFormulaBasedQuantity:false,ServiceNumbers:[],SelectedServiceNumber:"",SelectedServiceNumberDescription:"",SubDescriptionEditable:true,SelectedFormula:null,totalWithProfit:0,amountPerUnitWithProfit:0});this.getView().setModel(e,"view");fetch("./odata/v4/sales-cloud/ServiceNumbers").then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}).then(e=>{console.log("Fetched ServiceNumbers:",e.value);if(e&&e.value){const t=e.value.map(e=>({serviceNumberCode:e.serviceNumberCode,description:e.description}));this.getView().getModel().setProperty("/ServiceNumbers",t);console.log("ServiceNumbers:",t)}}).catch(e=>{console.error("Error fetching ServiceNumbers:",e)});fetch("./odata/v4/sales-cloud/PersonnelNumbers").then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}).then(e=>{console.log("Fetched personnelNumbers:",e.value);if(e&&e.value){const t=e.value.map(e=>({serviceNumberCode:e.serviceNumberCode,description:e.description}));this.getView().getModel().setProperty("/personnelNumbers",t);console.log("personnelNumbers:",t)}}).catch(e=>{console.error("Error fetching ServiceNumbers:",e)});fetch("./odata/v4/sales-cloud/ServiceTypes").then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}).then(e=>{console.log("Fetched ServiceTypes:",e.value);if(e&&e.value){const t=e.value.map(e=>({serviceNumberCode:e.serviceNumberCode,description:e.description}));this.getView().getModel().setProperty("/ServiceTypes",t);console.log("ServiceTypes:",t)}}).catch(e=>{console.error("Error fetching ServiceNumbers:",e)});fetch("./odata/v4/sales-cloud/LineTypes").then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}).then(e=>{console.log("Fetched LineTypes:",e.value);if(e&&e.value){const t=e.value.map(e=>({serviceNumberCode:e.serviceNumberCode,description:e.description}));this.getView().getModel().setProperty("/LineTypes",t);console.log("LineTypes:",t)}}).catch(e=>{console.error("Error fetching ServiceNumbers:",e)});fetch("./odata/v4/sales-cloud/Formulas").then(e=>e.json()).then(t=>{const o=Array.isArray(t.value)?t.value:[];console.log("Fetched Formulas:",o);e.setProperty("/Formulas",o);e.refresh(true)}).catch(e=>{console.error("Error fetching Formulas:",e);sap.m.MessageToast.show("Failed to load formulas.")});fetch("./odata/v4/sales-cloud/UnitOfMeasurements").then(e=>e.json()).then(t=>{const o=Array.isArray(t.value)?t.value:[];e.setProperty("/UOM",o);e.refresh(true)});fetch("./odata/v4/sales-cloud/Currencies").then(e=>e.json()).then(t=>{const o=Array.isArray(t.value)?t.value:[];e.setProperty("/Currency",o);e.refresh(true)});fetch("./odata/v4/sales-cloud/MaterialGroups").then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}).then(e=>{console.log("Fetched MaterialGroups:",e.value);if(e&&e.value){const t=e.value.map(e=>({materialGroupCode:e.materialGroupCode,description:e.description}));this.getView().getModel().setProperty("/MatGroups",t);console.log("MatGroups:",t)}}).catch(e=>{console.error("Error fetching MaterialGroups:",e)});this.getView().setModel(e);this.getOwnerComponent().getRouter().getRoute("modelServices").attachPatternMatched(this._onObjectMatched,this)},_onObjectMatched:function(e){const t=e.getParameter("arguments").modelSpecCode;console.log("Navigated with modelSpecCode:",t);this.currentModelSpecCode=t;this._loadModelSpecificationDetails(t)},_loadModelSpecificationDetails:function(e){const t=this.getView().getModel("view");const o=`./odata/v4/sales-cloud/ModelSpecifications(${e})?$expand=modelSpecificationsDetails`;console.log(o);fetch(o).then(e=>e.json()).then(o=>{console.log("API Resp:",o);console.log("The Model Specification Details:",o.modelSpecificationsDetails);t.setProperty("/ModelServices",o.modelSpecificationsDetails);console.log("Fetched ModelServices for",e,o.modelSpecificationsDetails);this.updateTotalValue()}).catch(e=>{console.error("Error fetching ModelSpecificationDetails:",e);sap.m.MessageToast.show("Failed to load model details.")})},updateTotalValue:function(){const e=this.getView().getModel();const t=e.getProperty("/ModelServices")||[];const o=t.reduce((e,t)=>e+(parseFloat(t.netValue)||0),0);e.setProperty("/Total",parseFloat(o.toFixed(3)));console.log("Updated Total Value:",o)},onServiceNumberChange:function(e){var t=e.getSource();var o=t.getSelectedItem();var r=this.byId("mainShortTextInput");var a=this.byId("dialogSubDescription");if(o){var s=o.getKey();var i=o.getText();console.log("Selected Key:",s," | Text:",i);var l=this.getView().getModel();l.setProperty("/SelectedServiceNumber",s);l.setProperty("/SelectedServiceNumberDescription",i);r.setValue(i);r.setEditable(false)}else{r.setValue("");r.setEditable(true)}},onInputChange:function(e){var t=this.getView();var o=t.getModel();var r=o.getProperty("/editRow")||{};var a=e.getSource();var s=a.getId();var i=s.includes("editMain");var l=this.getView().getId();var n=i?this.byId("editMainQuantityInput"):sap.ui.getCore().byId(l+"--mainQuantityInput");var d=i?this.byId("editMainAmountPerUnitInput"):sap.ui.getCore().byId(l+"--mainAmountPerUnitInput");var c=i?this.byId("editMainProfitMarginInput"):sap.ui.getCore().byId(l+"--mainProfitMarginInput");var u=parseFloat(n?.getValue())||0;var p=parseFloat(d?.getValue())||0;var m=parseFloat(c?.getValue())||0;console.log("Quantity Calculated:",u);console.log("amount :",p);console.log("Profit Calculated:",m);var g=u*p;var y=m?p*(m/100)+p:0;var v=m?g*(m/100)+g:0;console.log("Total Calculated:",g);if(i&&r){r.total=g.toFixed(3);r.totalWithProfit=v.toFixed(3);r.amountPerUnitWithProfit=y.toFixed(3);o.setProperty("/editRow",r)}else{o.setProperty("/Total",g.toFixed(3));o.setProperty("/totalWithProfit",v.toFixed(3));o.setProperty("/amountPerUnitWithProfit",y.toFixed(3))}},onFormulaSelected:function(e){var t=e.getSource();var o=t.getSelectedKey();var r=this.getView().getModel();var a=r.getProperty("/Formulas")||[];var s=a.find(e=>e.formulaCode===o);r.setProperty("/SelectedFormula",s||null);r.setProperty("/HasSelectedFormula",!!s);var i=this.byId("mainQuantityInput");if(!s){i.setEditable(true);i.setValue("");r.setProperty("/IsFormulaBasedQuantity",false)}else{i.setEditable(false);r.setProperty("/IsFormulaBasedQuantity",true)}},onOpenFormulaDialog:function(){var e=this.getView().getModel();var t=e.getProperty("/SelectedFormula");if(!t){sap.m.MessageToast.show("Please select a formula first.");return}var o=this.byId("formulaDialog");var r=this.byId("formulaParamContainer");r.removeAllItems();var a={};t.parameterIds.forEach(t=>{r.addItem(new sap.m.Label({text:t}));var o=new sap.m.Input({id:t,placeholder:"Enter "+t,liveChange:o=>{a[t]=o.getParameter("value");e.setProperty("/FormulaParameters",a)}});r.addItem(o)});o.open()},_calculateFormulaResult:function(e,t){if(!e||!t)return 0;try{let o=e.formulaLogic;e.parameterIds.forEach(e=>{const r=parseFloat(t[e])||0;o=o.replaceAll(e,r)});o=o.replace(/\^/g,"**");const r=Function('"use strict";return ('+o+")")();return parseFloat(r.toFixed(3))}catch(e){console.error("Error evaluating formula:",e);sap.m.MessageToast.show("Invalid formula or parameters.");return 0}},onFormulaDialogOK:function(){var e=this.getView().getModel();var t=e.getProperty("/SelectedFormula");var o=e.getProperty("/FormulaParameters");var r=this._calculateFormulaResult(t,o);this.byId("formulaDialog").close();var a=this.byId("mainQuantityInput");a.setValue(r);e.setProperty("/IsFormulaBasedQuantity",true);var s=parseFloat(this.byId("mainAmountPerUnitInput").getValue())||0;var i=r*s;this.byId("mainTotalInput").setValue(i.toFixed(3))},onInputChange:function(){var e=parseFloat(this.byId("mainQuantityInput").getValue())||0;var t=parseFloat(this.byId("mainAmountPerUnitInput").getValue())||0;this.byId("mainTotalInput").setValue((e*t).toFixed(3))},onOpenMainDialog:function(){const e=this.getView().getModel();e.setProperty("/newModelService",{});this.byId("addModelServiceDialog").open()},onAddModelSpecDetails:async function(){const e=this.getView();const t=e.getModel("view");const o=this.currentModelSpecCode;if(!o){sap.m.MessageBox.error("Model Specification Code not found! Cannot add detail.");return}const r=t.getProperty("/ModelServices")||[];const a=r.length>0?Math.max(...r.map(e=>parseInt(e.modelSpecDetailsCode)||0)):0;const s=a+1;const i=e.byId("mainServiceTypeSelect");const l=e.byId("mainMatGroupSelect");const n=e.byId("personnelNumber");const d=e.byId("lineTypes");const c=e.byId("mainUOMSelect");const u=e.byId("formulaSelect");const p=e.byId("mainCurrencySelect");var m={modelSpecDetailsCode:s,serviceNumberCode:parseInt(e.byId("mainModelServiceNoSelect").getSelectedKey())||0,noServiceNumber:0,serviceTypeCode:i&&i.getSelectedItem()?i.getSelectedItem().getText():t.getProperty("/newModelService/serviceTypeCode")||"",materialGroupCode:l&&l.getSelectedItem()?l.getSelectedItem().getText():t.getProperty("/newModelService/materialGroupCode")||"",personnelNumberCode:n&&n.getSelectedItem()?n.getSelectedItem().getText():"",unitOfMeasurementCode:c&&c.getSelectedItem()?c.getSelectedItem().getText():"",formulaCode:u&&u.getSelectedItem()?u.getSelectedItem().getText():"",currencyCode:p&&p.getSelectedItem()?p.getSelectedItem().getText():"",lineTypeCode:d&&d.getSelectedItem()?d.getSelectedItem().getText():"",selectionCheckBox:true,lineIndex:"",shortText:e.byId("mainShortTextInput").getValue()||"",quantity:parseFloat(e.byId("mainQuantityInput").getValue())||parseFloat(t.getProperty("/newModelService/quantity"))||0,grossPrice:parseFloat(e.byId("mainAmountPerUnitInput").getValue())||parseFloat(t.getProperty("/newModelService/grossPrice"))||0,overFulfilmentPercentage:parseFloat(e.byId("mainOverFInput").getValue())||parseFloat(t.getProperty("/newModelService/overFulfilmentPercentage"))||0,priceChangedAllowed:e.byId("mainPriceChangeAllowed").getSelected()||t.getProperty("/newModelService/priceChangedAllowed")||false,unlimitedOverFulfillment:e.byId("mainUnlimitedOverF").getSelected()||t.getProperty("/newModelService/unlimitedOverFulfillment")||false,pricePerUnitOfMeasurement:parseFloat(e.byId("mainPricePerUnitInput").getValue())||parseFloat(t.getProperty("/newModelService/pricePerUnitOfMeasurement"))||0,externalServiceNumber:e.byId("mainExternalServiceNo").getValue()||t.getProperty("/newModelService/externalServiceNumber")||"",netValue:parseFloat(e.byId("mainTotalInput").getValue())||0,serviceText:e.byId("mainServiceText").getValue()||t.getProperty("/newModelService/serviceText")||"",lineText:e.byId("mainLineText").getValue()||t.getProperty("/newModelService/lineText")||"",lineNumber:e.byId("_IDGenInput6").getValue()||t.getProperty("/newModelService/lineNumber")||"",alternatives:e.byId("_IDGenInput7").getValue()||t.getProperty("/newModelService/alternatives")||"",biddersLine:e.byId("_IDGenCheckBox").getSelected()||t.getProperty("/newModelService/biddersLine")||false,supplementaryLine:e.byId("_IDGenCheckBox2").getSelected()||t.getProperty("/newModelService/supplementaryLine")||false,lotSizeForCostingIsOne:e.byId("_IDGenCheckBox6").getSelected()||t.getProperty("/newModelService/lotSizeForCostingIsOne")||false,lastChangeDate:(new Date).toISOString().split("T")[0],modelSpecifications_modelSpecCode:parseInt(o),serviceNumber_serviceNumberCode:e.byId("mainModelServiceNoSelect").getSelectedKey()||""};const g=`./odata/v4/sales-cloud/ModelSpecifications(${o})/modelSpecificationsDetails`;try{const t=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!t.ok){const e=await t.text();throw new Error(`HTTP ${t.status}: ${e}`)}sap.m.MessageToast.show("Model Specification Detail added successfully!");this._loadModelSpecificationDetails(o);const r=e.byId("addModelServiceDialog");if(r)r.close()}catch(e){console.error("Error adding Model Specification Detail:",e);sap.m.MessageBox.error("Failed to add Model Specification Detail: "+e.message)}},onDetails:function(e){var t=e.getSource().getParent().getBindingContext();if(t){var o=t.getProperty();var r=this.getView().getModel();r.setProperty("/selectedLine",o);var a=this.getView().byId("detailsDialog");if(a){a.open()}else{console.error("Details dialog not found")}}},onDelete:function(e){var t=e.getSource().getBindingContext();if(!t){sap.m.MessageBox.error("Error: Could not determine the row to delete!");return}var o=t.getPath();var r=this.getView().byId("modelServicesTable");var a=r.getModel()||this.getView().getModel("view")||this.getView().getModel();var s=a.getProperty(o);if(!s){sap.m.MessageBox.error("Error: Could not determine the row to delete!");return}var i=s.modelSpecDetailsCode;if(i===undefined||i===null){sap.m.MessageBox.error("Error: item has no modelSpecDetailsCode!");return}sap.m.MessageBox.confirm("Are you sure you want to delete this record?",{title:"Confirm Deletion",icon:sap.m.MessageBox.Icon.WARNING,actions:[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.NO],emphasizedAction:sap.m.MessageBox.Action.YES,onClose:async function(e){if(e!==sap.m.MessageBox.Action.YES)return;try{var t=!isNaN(Number(i));var s=t?i:`'${encodeURIComponent(String(i))}'`;var l=`./odata/v4/sales-cloud/ModelSpecificationsDetails(${s})`;r.setBusy(true);const e=await fetch(l,{method:"DELETE"});r.setBusy(false);if(!e.ok){var n=await e.text().catch(()=>e.statusText);throw new Error("Failed to delete: "+(n||e.statusText))}var d=a.getProperty("/ModelServices")||[];var c=d.findIndex(function(e){return String(e.modelSpecDetailsCode)===String(i)});if(c!==-1){d.splice(c,1);a.setProperty("/ModelServices",d)}else{var u=o.substring(o.lastIndexOf("/")+1);var p=parseInt(u);if(!isNaN(p)&&d[p]){d.splice(p,1);a.setProperty("/ModelServices",d)}else{console.warn("Could not find deleted row in local model to remove; consider reloading server data.")}}sap.m.MessageToast.show("Record deleted successfully.");this.updateTotalValue()}catch(e){r.setBusy(false);console.error("Error deleting record:",e);sap.m.MessageBox.error("Error deleting record: "+e.message)}}.bind(this)})},onPress(){this.getOwnerComponent().getRouter().navTo("addModel")},onOpenAddDialog:function(){console.log("Opening dialog");var e=this.getView().byId("addServiceDialog");if(e){e.open()}else{console.error("Dialog not found")}},_onEditFormulaSelected:function(e,t){const o=this.getView().getModel();const r=t.getObject();const a=e.parameterDescriptions[0];const s=new sap.m.Input({placeholder:`Enter value for ${a}`});const i=new sap.m.Dialog({title:"Enter Parameters",content:[s],beginButton:new sap.m.Button({text:"OK",press:()=>{const e=parseFloat(s.getValue());if(isNaN(e)){sap.m.MessageToast.show("Please enter a valid number");return}const t=22/7*(e*e);r.result=t;o.refresh(true);i.close()}}),endButton:new sap.m.Button({text:"Cancel",press:()=>i.close()})});i.open()},onOpenEditFormulaDialog:function(){const e=this._oEditDialog.getModel("editModel");const t=e.getProperty("/formulaCode");if(!t){sap.m.MessageToast.show("Please select a formula first.");return}const o=this.getView().getModel();const r=o.getProperty("/Formulas")||[];const a=r.find(e=>e.formulaCode===t);if(!a){sap.m.MessageToast.show("Formula not found.");return}const s=new sap.m.VBox;a.parameterDescriptions.forEach((e,t)=>{const o=a.parameterIds[t];s.addItem(new sap.m.Label({text:e}));s.addItem(new sap.m.Input(this.createId("editParam_"+o),{placeholder:`Enter ${e}`}))});const i=new sap.m.Dialog({title:"Enter Formula Parameters",content:[s],beginButton:new sap.m.Button({text:"OK",type:"Emphasized",press:()=>{const t={};a.parameterIds.forEach(e=>{t[e]=this.byId("editParam_"+e).getValue()});const o=this._calculateFormulaResult(a,t);e.setProperty("/quantity",o);sap.m.MessageToast.show("Quantity updated to "+o);i.close()}}),endButton:new sap.m.Button({text:"Cancel",press:()=>i.close()})});this.getView().addDependent(i);i.open()},onEditModelSpecDetails:function(e){var t=e.getSource();var o=t.getBindingContext();if(!o){sap.m.MessageToast.show("No data found for editing.");return}var r=o.getObject();var a=this.getView();if(!this._oEditDialog){this._oEditDialog=new sap.m.Dialog({title:"Edit Model Service",contentWidth:"800px",contentHeight:"80%",resizable:true,draggable:true,content:new sap.ui.layout.form.SimpleForm({editable:true,layout:"ResponsiveGridLayout",class:"sapUiSmallMargin",content:[new sap.m.Label({text:"Service.No"}),new sap.m.Input({value:"{editModel>/serviceNumberCode}"}),new sap.m.Label({text:"Short Text"}),new sap.m.Input({value:"{editModel>/shortText}"}),new sap.m.Label({text:"Quantity"}),new sap.m.Input({id:"qtyInput",type:"Number",value:"{editModel>/quantity}",liveChange:this.onEditInputChange.bind(this),valueLiveUpdate:true}),new sap.m.Label({text:"Gross Price"}),new sap.m.Input({id:"grossPriceInput",type:"Number",value:"{editModel>/grossPrice}",liveChange:this.onEditInputChange.bind(this),valueLiveUpdate:true}),new sap.m.Label({text:"Net Value"}),new sap.m.Input({type:"Number",value:"{editModel>/netValue}",editable:false}),new sap.m.Label({text:"Formula"}),new sap.m.Select({change:function(e){console.log("Formula change fired");var t=this._oEditDialog.getModel("editModel");var o=e.getParameter("selectedItem");console.log("Formula selectedItem:",o);var r=o?o.getKey():"";console.log("Setting formula key:",r);t.setProperty("/formulaCode",r);console.log("Model formula value:",t.getProperty("/formulaCode"))}.bind(this),items:{path:"/Formulas",template:new sap.ui.core.Item({key:"{formulaCode}",text:"{description}"})}}),new sap.m.Button({text:"Enter Parameters",press:this.onOpenEditFormulaDialog.bind(this)}),new sap.m.Label({text:"UOM"}),new sap.m.Select({selectedKey:"{editModel>/unitOfMeasurementCode}",change:function(e){console.log("UOM change fired");var t=this._oEditDialog.getModel("editModel");var o=e.getParameter("selectedItem");console.log("UOM selectedItem:",o);var r=o?o.getKey():"";if(!r&&o){r=o.getText();console.log("Fallback UOM key from text:",r)}console.log("Setting UOM key:",r);t.setProperty("/unitOfMeasurementCode",r);console.log("Model UOM value:",t.getProperty("/unitOfMeasurementCode"))}.bind(this),items:{path:"/UOM",template:new sap.ui.core.Item({key:"{code}",text:"{description}"})}}),new sap.m.Label({text:"Currency"}),new sap.m.Select({selectedKey:"{editModel>/currencyCode}",change:function(e){console.log("Currency change fired");var t=this._oEditDialog.getModel("editModel");var o=e.getParameter("selectedItem");console.log("Currency selectedItem:",o);var r=o?o.getKey():"";console.log("Setting currency key:",r);t.setProperty("/currencyCode",r);console.log("Model currency value:",t.getProperty("/currencyCode"))}.bind(this),items:{path:"/Currency",template:new sap.ui.core.Item({key:"{code}",text:"{description}"})}}),new sap.m.Label({text:"OverF.Percentage"}),new sap.m.Input({type:"Number",value:"{editModel>/overFulfilmentPercentage}"}),new sap.m.Label({text:"Price Change Allowed"}),new sap.m.CheckBox({selected:"{editModel>/priceChangedAllowed}"}),new sap.m.Label({text:"Unlimited OverFulfillment"}),new sap.m.CheckBox({selected:"{editModel>/unlimitedOverFulfillment}"}),new sap.m.Label({text:"Price Per Unit Of Measurement"}),new sap.m.Input({type:"Number",value:"{editModel>/pricePerUnitOfMeasurement}"}),new sap.m.Label({text:"Mat Group"}),new sap.m.Select({selectedKey:"{editModel>/materialGroupCode}",items:{path:"/MatGroups",template:new sap.ui.core.Item({key:"{materialGroupCode}",text:"{description}"})}}),new sap.m.Label({text:"Service Type"}),new sap.m.Select({selectedKey:"{editModel>/serviceTypeCode}",items:{path:"/ServiceTypes",template:new sap.ui.core.Item({key:"{serviceTypeCode}",text:"{description}"})}}),new sap.m.Label({text:"External Service No"}),new sap.m.Input({value:"{editModel>/externalServiceNumber}"}),new sap.m.Label({text:"Service Text"}),new sap.m.Input({value:"{editModel>/serviceText}"}),new sap.m.Label({text:"Line Text"}),new sap.m.Input({value:"{editModel>/lineText}"}),new sap.m.Label({text:"Personnel Number"}),new sap.m.Select({selectedKey:"{editModel>/personnelNumberCode}",items:{path:"/personnelNumbers",template:new sap.ui.core.Item({key:"{personnelNumberCode}",text:"{description}"})}}),new sap.m.Label({text:"Line Types"}),new sap.m.Select({selectedKey:"{editModel>/lineTypeCode}",items:{path:"/LineTypes",template:new sap.ui.core.Item({key:"{lineTypeCode}",text:"{description}"})}}),new sap.m.Label({text:"Line Number"}),new sap.m.Input({value:"{editModel>/lineNumber}"}),new sap.m.Label({text:"Alt"}),new sap.m.Input({value:"{editModel>/alternatives}"}),new sap.m.Label({text:"Bidder's Line"}),new sap.m.CheckBox({selected:"{editModel>/biddersLine}"}),new sap.m.Label({text:"Supp.Line"}),new sap.m.CheckBox({selected:"{editModel>/supplementaryLine}"}),new sap.m.Label({text:"Cstg_Ls"}),new sap.m.CheckBox({selected:"{editModel>/lotSizeForCostingIsOne}"})]}),buttons:[new sap.m.Button({text:"Save",type:"Emphasized",press:this.onSaveEditModelService.bind(this)}),new sap.m.Button({text:"Cancel",press:function(){this._oEditDialog.close()}.bind(this)})]});a.addDependent(this._oEditDialog)}var s=a.getModel();if(s){this._oEditDialog.setModel(s)}var i=Object.assign({},r,{formulaCode:""});var l=new sap.ui.model.json.JSONModel(i);this._oEditDialog.setModel(l,"editModel");this._oEditDialog.open()},onSaveEditModelService:async function(){var e=this._oEditDialog;var t=e.getModel("editModel").getData();console.log("Saving data - Formula:",t.formulaCode,"UOM:",t.unitOfMeasurementCode,"Currency:",t.currencyCode);if(!t||!t.modelSpecDetailsCode){sap.m.MessageBox.warning("Missing Model Spec Details Code.");return}try{const{currencyDescription:i,unitOfMeasurementDescription:l,formulaDescription:n,...d}=t;const c=await fetch(`./odata/v4/sales-cloud/ModelSpecificationsDetails(${t.modelSpecDetailsCode})`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!c.ok){throw new Error(`Failed to update: ${c.statusText}`)}var o=this.getView().getModel();var r=o.getProperty("/ModelServices");var a=r.find(e=>e.modelSpecDetailsCode===t.modelSpecDetailsCode);if(a){var s=this.getView().getModel();const e=s.getProperty("/UOM").find(e=>e.code===t.unitOfMeasurementCode);const o=s.getProperty("/Currency").find(e=>e.currencyCode===t.currencyCode);const r=s.getProperty("/Formulas").find(e=>e.formulaCode===t.formulaCode);a.unitOfMeasurementCode=t.unitOfMeasurementCode;a.unitOfMeasurementDescription=e?e.description:"";a.currencyCode=t.currencyCode;a.currencyDescription=o?o.description:"";a.formulaCode=t.formulaCode;a.formulaDescription=r?r.description:"";Object.assign(a,d)}o.refresh(true);this.updateTotalValue();sap.m.MessageToast.show("Model Specification updated successfully!");e.close()}catch(e){sap.m.MessageBox.error("Error updating Model Specification: "+e.message)}},onEditInputChange:function(e){const t=this._oEditDialog.getModel("editModel");if(!t)return;const o=e.getSource();const r=o.getBinding("value").getPath();const a=parseFloat(t.getProperty("/quantity"))||0;const s=parseFloat(t.getProperty("/grossPrice"))||0;const i=a*s;t.setProperty("/netValue",i)},onCloseEditDialog:function(){this.byId("editModelServiceDialog").close()},_openExcelUploadDialogModelSpec:function(){var e=this;var t;var o=new sap.ui.unified.FileUploader({width:"100%",fileType:["xls","xlsx"],sameFilenameAllowed:true,change:function(e){t=e.getParameter("files")[0]}});var r=new sap.m.VBox({items:[o]});var a;var s=new sap.m.Dialog({title:"Import Model Spec from Excel",contentWidth:"80%",contentHeight:"70%",content:[r],buttons:[new sap.m.Button({text:"Add Selected",type:"Emphasized",press:async function(){const t=e.getView();const o=t.getModel("view");const r=e.currentModelSpecCode;if(!r){sap.m.MessageBox.error("Model Specification Code not found!");return}const i=o.getProperty("/ModelServices")||[];const l=a.getModel().getProperty("/rows").filter(e=>e.selected);if(l.length===0){sap.m.MessageToast.show("Please select at least one row!");return}let n=i.length>0?Math.max(...i.map(e=>parseInt(e.modelSpecDetailsCode)||0)):0;for(const e of l){n+=1;const t={modelSpecDetailsCode:n,serviceNumberCode:parseInt(e.serviceNumberCode)||0,noServiceNumber:0,serviceTypeCode:e.serviceTypeCode||"",materialGroupCode:e.materialGroupCode||"",personnelNumberCode:e.personnelNumberCode||"",unitOfMeasurementCode:e.unitOfMeasurementCode||"",formulaCode:e.formulaCode||"",currencyCode:e.currencyCode||"",lineTypeCode:e.lineTypeCode||"",selectionCheckBox:true,lineIndex:"",shortText:e.shortText||"",quantity:parseFloat(e.quantity)||0,grossPrice:parseFloat(e.grossPrice)||0,overFulfilmentPercentage:parseFloat(e.overFulfilmentPercentage)||0,priceChangedAllowed:e.priceChangedAllowed||false,unlimitedOverFulfillment:e.unlimitedOverFulfillment||false,pricePerUnitOfMeasurement:parseFloat(e.pricePerUnitOfMeasurement)||0,externalServiceNumber:e.externalServiceNumber||"",netValue:parseFloat(e.quantity*e.grossPrice)||0,serviceText:e.serviceText||"",lineText:e.lineText||"",lineNumber:e.lineNumber||"",alternatives:e.alternatives||"",biddersLine:e.biddersLine?true:null,supplementaryLine:e.supplementaryLine?true:null,lotSizeForCostingIsOne:e.lotCostOne?true:null,lastChangeDate:(new Date).toISOString().split("T")[0],modelSpecifications_modelSpecCode:parseInt(r),serviceNumber_serviceNumberCode:e.serviceNumberCode||""};const o=`./odata/v4/sales-cloud/ModelSpecifications(${r})/modelSpecificationsDetails`;try{const e=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const t=await e.text();throw new Error(`HTTP ${e.status}: ${t}`)}i.push(t)}catch(e){console.error("Error adding row:",e);sap.m.MessageToast.show("Failed to add a row: "+e.message)}}o.setProperty("/ModelServices",i);const d=i.reduce((e,t)=>e+(parseFloat(t.netValue)||0),0);o.setProperty("/Total",d);e.getView().byId("modelServicesTable").getModel().refresh(true);sap.m.MessageToast.show("Selected rows added successfully!");s.close()}}),new sap.m.Button({text:"Add All",press:function(){const e=a.getModel().getProperty("/rows");e.forEach(e=>e.selected=true);a.getModel().refresh();s.getButtons()[0].firePress()}}),new sap.m.Button({text:"Cancel",press:function(){s.close()}})]});var i=function(){if(!t)return;var e=new FileReader;e.onload=function(e){var t=new Uint8Array(e.target.result);var o=XLSX.read(t,{type:"array"});var s=o.Sheets[o.SheetNames[0]];var i=XLSX.utils.sheet_to_json(s);i.forEach(e=>e.selected=false);var l=new sap.ui.model.json.JSONModel({rows:i});a=new sap.m.Table({width:"100%",columns:[new sap.m.Column({header:new sap.m.Text({text:"Select"})}),new sap.m.Column({header:new sap.m.Text({text:"Service Number"})}),new sap.m.Column({header:new sap.m.Text({text:"Short Text"})}),new sap.m.Column({header:new sap.m.Text({text:"Quantity"})}),new sap.m.Column({header:new sap.m.Text({text:"Gross Price"})}),new sap.m.Column({header:new sap.m.Text({text:"Currency"})})]});a.setModel(l);a.bindItems({path:"/rows",template:new sap.m.ColumnListItem({type:"Inactive",cells:[new sap.m.CheckBox({selected:"{selected}",select:function(){a.getModel().refresh()}}),new sap.m.Text({text:"{serviceNumberCode}"}),new sap.m.Text({text:"{shortText}"}),new sap.m.Text({text:"{quantity}"}),new sap.m.Text({text:"{grossPrice}"}),new sap.m.Text({text:"{currencyCode}"})]})});r.addItem(a)};e.readAsArrayBuffer(t)};o.attachChange(i);s.open()},onCloseDialog:function(){var e=this.getView().byId("addModelServiceDialog");if(e){e.close();this.getView().byId("dialogLine").setValue("");this.getView().byId("dialogServiceNo").setValue("");this.getView().byId("dialogShortText").setValue("");this.getView().byId("dialogQuantity").setValue("");this.getView().byId("dialogFormula").setValue("");this.getView().byId("dialogFormulaParameters").setValue("");this.getView().byId("dialogGrossPrice").setValue("");this.getView().byId("dialogNetValue").setValue("");this.getView().byId("dialogUnitOfMeasure").setValue("");this.getView().byId("dialogCrcy").setValue("");this.getView().byId("dialogOverFPercentage").setValue("");this.getView().byId("dialogPriceChangeAllowed").setValue("");this.getView().byId("dialogUnlimitedOverF").setValue("");this.getView().byId("dialogPricePerUnitOfMeasurement").setValue("");this.getView().byId("dialogMatGroup").setValue("");this.getView().byId("dialogServiceType").setValue("");this.getView().byId("dialogExternalServiceNo").setValue("");this.getView().byId("dialogServiceText").setValue("");this.getView().byId("dialogLineText").setValue("");this.getView().byId("dialogPersonnelNumber").setValue("");this.getView().byId("dialogLineType").setValue("");this.getView().byId("dialogLineNumber").setValue("");this.getView().byId("dialogAlt").setValue("");this.getView().byId("dialogBiddersLine").setValue("");this.getView().byId("dialogSuppLine").setValue("");this.getView().byId("dialogCstgLs").setValue("")}},onChangeFilterLine:function(e){var t=this.getView().getModel();var o=e.getParameter("value");if(o){var r=t.getProperty("/originalModels").filter(function(e){return e.line.toLowerCase().includes(o.toLowerCase())});t.setProperty("/Models",r)}else{t.setProperty("/Models",t.getProperty("/originalModels"))}},onSearchModelServices:function(e){const t=e.getParameter("query")||e.getParameter("newValue");const o=this.byId("modelServicesTable");const r=o.getBinding("rows");if(!r){console.warn("No binding found for table rows.");return}if(t&&t.trim().length>0){const e=[];e.push(new sap.ui.model.Filter("shortText",sap.ui.model.FilterOperator.Contains,t));const o=parseInt(t,10);if(!isNaN(o)){e.push(new sap.ui.model.Filter("serviceNumberCode",sap.ui.model.FilterOperator.EQ,o))}else{console.log("Query not numeric; skipping serviceNumberCode filter:",t)}if(e.length>0){const t=new sap.ui.model.Filter({filters:e,and:false});r.filter(t);console.log("Applied filter:",t)}else{r.filter([])}}else{r.filter([]);console.log("Cleared filters (empty query).")}},onExportToExcel:function(){var e=this.byId("modelServicesTable");var t=this.getView().getModel();var o=[{label:"line",property:"line"},{label:"serviceNo",property:"serviceNo"},{label:"shortText",property:"shortText"},{label:"quantity",property:"quantity"},{label:"formula",property:"formula"},{label:"formulaParameters",property:"formulaParameters"},{label:"grossPrice",property:"grossPrice"},{label:"netValue",property:"netValue"},{label:"unitOfMeasure",property:"unitOfMeasure"},{label:"crcy",property:"crcy"},{label:"overFPercentage",property:"overFPercentage"},{label:"priceChangeAllowed",property:"priceChangeAllowed"},{label:"unlimitedOverF",property:"unlimitedOverF"},{label:"pricePerUnitOfMeasurement",property:"pricePerUnitOfMeasurement"},{label:"matGroup",property:"matGroup"},{label:"serviceType",property:"serviceType"},{label:"externalServiceNo",property:"externalServiceNo"},{label:"serviceText",property:"serviceText"},{label:"lineText",property:"lineText"},{label:"personnelNumber",property:"personnelNumber"},{label:"lineType",property:"lineType"},{label:"lineNumber",property:"lineNumber"},{label:"alt",property:"alt"},{label:"biddersLine",property:"biddersLine"},{label:"suppLine",property:"suppLine"},{label:"cstgLs",property:"cstgLs"}];var r={workbook:{columns:o},dataSource:t.getProperty("/ModelServices"),fileName:"ModelServices.xlsx"};var a=new sap.ui.export.Spreadsheet(r);a.build().finally(function(){a.destroy()})},onImport:function(){var e=this;var t=document.createElement("input");t.type="file";t.accept=".xlsx, .xls";t.style.display="none";t.addEventListener("change",function(t){var o=t.target.files[0];if(!o){sap.m.MessageToast.show("No file selected!");return}var r=new FileReader;r.onload=function(t){var o=new Uint8Array(t.target.result);var r=XLSX.read(o,{type:"array"});var a=r.SheetNames[0];var s=r.Sheets[a];var i=XLSX.utils.sheet_to_json(s,{defval:""});console.log(i);var l=i.map(function(e){return{line:e.line||"",serviceNo:e.serviceNo||"",shortText:e.shortText||"",quantity:e.quantity||"",formula:e.formula||"",formulaParameters:e.formulaParameters||"",grossPrice:e.grossPrice||"",netValue:e.netValue||"",unitOfMeasure:e.unitOfMeasure||"",crcy:e.crcy||"",overFPercentage:e.overFPercentage||"",priceChangeAllowed:e.priceChangeAllowed||"",unlimitedOverF:e.unlimitedOverF||"",pricePerUnitOfMeasurement:e.pricePerUnitOfMeasurement||"",matGroup:e.matGroup||"",serviceType:e.serviceType||"",externalServiceNo:e.externalServiceNo||"",serviceText:e.serviceText||"",lineText:e.lineText||"",personnelNumber:e.personnelNumber||"",lineType:e.lineType||"",lineNumber:e.lineNumber||"",alt:e.alt||"",biddersLine:e.biddersLine||"",suppLine:e.suppLine||"",cstgLs:e.cstgLs||""}});console.log(l);var n=e.getView().getModel();var d=n.getProperty("/ModelServices")||[];var c=d.concat(l);n.setProperty("/ModelServices",c);sap.m.MessageToast.show("Excel records imported and appended successfully!")};r.readAsArrayBuffer(o)});t.click()}})});
sap.ui.predefine("project1/controller/ServiceMaster.controller", ["sap/ui/core/mvc/Controller","sap/m/Dialog","sap/m/VBox","sap/m/Text","sap/m/Button","sap/ui/export/Spreadsheet","sap/ui/export/library","sap/ui/model/json/JSONModel","sap/m/MessageBox"],function(e,t,a,o,r,i,s,n,l){"use strict";return e.extend("project1.controller.ServiceMaster",{onInit:function(){this.getOwnerComponent().getRouter().getRoute("serviceMaster").attachPatternMatched(this._onRouteMatched,this);var e=new sap.ui.model.json.JSONModel({ServiceNumbers:[]});const t=new sap.ui.model.json.JSONModel({editData:{searchTerm:""}});this.getView().setModel(t,"editModel");this.getView().setModel(e,"view");fetch("./odata/v4/sales-cloud/ServiceNumbers").then(e=>{if(!e.ok){throw new Error(`HTTP error! Status: ${e.status}, ${e.statusText}`)}return e.json()}).then(t=>{console.log("Fetched ServiceNumbers:",t);const a=Array.isArray(t.value)?t.value:[];e.setData({ServiceNumbers:a});console.log("ServiceNumbers set in model:",e.getProperty("/ServiceNumbers"));e.refresh(true)}).catch(e=>{console.error("Error fetching ServiceNumbers:",e);sap.m.MessageBox.error("Failed to load ServiceNumbers: "+e.message)});fetch("./odata/v4/sales-cloud/ServiceTypes").then(e=>e.json()).then(e=>{var t=new sap.ui.model.json.JSONModel(e.value);this.getView().setModel(t,"serviceTypes")});fetch("./odata/v4/sales-cloud/MaterialGroups").then(e=>e.json()).then(e=>{var t=new sap.ui.model.json.JSONModel(e.value);this.getView().setModel(t,"materialGroups")});fetch("./odata/v4/sales-cloud/UnitOfMeasurements").then(e=>e.json()).then(e=>{var t=new sap.ui.model.json.JSONModel(e.value);this.getView().setModel(t,"unitsOfMeasurement")})},_onRouteMatched:function(){this._loadModels()},_loadModels:function(){const e=this.getView().getModel("view");var t=new sap.ui.model.json.JSONModel;fetch("./odata/v4/sales-cloud/ServiceNumbers").then(e=>{if(!e.ok){throw new Error(`HTTP error! Status: ${e.status}, ${e.statusText}`)}return e.json()}).then(a=>{console.log("Fetched ServiceNumbers:",a);const o=Array.isArray(a.value)?a.value:[];t.setData({ServiceNumbers:o});console.log("ServiceNumbers set in model:",t.getProperty("/ServiceNumbers"));this.getView().byId("serviceMaster").setModel(t);this.getView().setModel(t,"view");e.updateBindings(true)}).catch(e=>{console.error("Error fetching ServiceNumbers:",e);sap.m.MessageBox.error("Failed to load ServiceNumbers: "+e.message)})},onEdit:function(){var e=this.byId("serviceMaster");var t=e.getSelectedItem();if(!t){sap.m.MessageBox.warning("Please select an item to edit");return}var a=t.getBindingContext("view");if(!a){sap.m.MessageBox.error("No binding context found for the selected item");console.error("Binding context is undefined for selected item:",t);return}var o=a.getObject();if(!o){sap.m.MessageBox.error("No data found for the selected item");console.error("Selected data is undefined:",a);return}if(!this._oEditDialog){this._oEditDialog=new sap.m.Dialog({title:"Edit Service Master",titleAlignment:"Center",contentWidth:"700px",resizable:true,draggable:true,content:[],beginButton:new sap.m.Button({text:"Save",type:"Emphasized",press:this.onSaveEdit.bind(this)}),endButton:new sap.m.Button({text:"Cancel",press:()=>this._oEditDialog.close()})});this.getView().addDependent(this._oEditDialog)}var r=new sap.ui.model.json.JSONModel({editData:Object.assign({},o)});this._oEditDialog.setModel(r,"editModel");this._oEditDialog.removeAllContent();var i=new sap.ui.layout.form.SimpleForm({editable:true,layout:"ResponsiveGridLayout",labelSpanL:4,labelSpanM:4,columnsL:1,columnsM:1,maxContainerCols:2,emptySpanL:1,emptySpanM:1,content:[]});i.addStyleClass("sapUiSmallMargin sapUiNoContentPadding");function s(e,t){i.addContent(new sap.m.Label({text:e}));i.addContent(t)}s("Service Number Code",new sap.m.Input({value:"{editModel>/editData/serviceNumberCode}",editable:false}));s("Service Number",new sap.m.Input({value:"{editModel>/editData/serviceNumberCodeString}",editable:false}));s("Search Term",new sap.m.Input({value:"{editModel>/editData/searchTerm}"}));s("Description",new sap.m.Input({value:"{editModel>/editData/description}"}));s("Service Text",new sap.m.Input({value:"{editModel>/editData/serviceText}"}));s("Service Type",new sap.m.Select({items:{path:"serviceTypes>/",template:new sap.ui.core.Item({key:"{serviceTypes>serviceTypeCode}",text:"{serviceTypes>description}"})},selectedKey:"{editModel>/editData/serviceTypeCode}"}));s("Material Group",new sap.m.Select({items:{path:"materialGroups>/",template:new sap.ui.core.Item({key:"{materialGroups>materialGroupCode}",text:"{materialGroups>description}"})},selectedKey:"{editModel>/editData/materialGroupCode}"}));s("Base Unit of Measurement",new sap.m.Select({items:{path:"unitsOfMeasurement>/",template:new sap.ui.core.Item({key:"{units>code}",text:"{units>description}"})},selectedKey:"{editModel>/editData/baseUnitOfMeasurement}"}));s("Number To Be Converted",new sap.m.Input({value:"{editModel>/editData/numberToBeConverted}"}));s("To Be Converted Unit of Measurement",new sap.m.Select({items:{path:"unitsOfMeasurement>/",template:new sap.ui.core.Item({key:"{units>code}",text:"{units>description}"})},selectedKey:"{editModel>/editData/toBeConvertedUnitOfMeasurement}",width:"100%"}));s("Converted Number",new sap.m.Input({value:"{editModel>/editData/convertedNumber}"}));s(" Converted Unit of Measurement",new sap.m.Select({items:{path:"unitsOfMeasurement>/",template:new sap.ui.core.Item({key:"{units>code}",text:"{units>description}"})},selectedKey:"{editModel>/editData/defaultUnitOfMeasurement}",width:"100%"}));s("Main Item",new sap.m.CheckBox({selected:"{editModel>/editData/mainItem}"}));s("Short Text Change Allowed",new sap.m.CheckBox({selected:"{editModel>/editData/shortTextChangeAllowed}"}));s("Deletion Indicator",new sap.m.CheckBox({selected:"{editModel>/editData/deletionIndicator}"}));var n=new sap.m.ScrollContainer({height:"500px",vertical:true,content:[i]});this._oEditDialog.addContent(n);this._oEditDialog.open()},onSaveEdit:function(){var e=this._oEditDialog.getModel("editModel");var t=e.getProperty("/editData");console.log(t);if(t.lastChangeDate instanceof Date){t.lastChangeDate=t.lastChangeDate.toISOString().split("T")[0]}else if(typeof t.lastChangeDate==="string"&&t.lastChangeDate.includes("/")){var a=t.lastChangeDate.split("/");if(a.length===3){let e=a[0].padStart(2,"0");let o=a[1].padStart(2,"0");let r=a[2].length===2?"20"+a[2]:a[2];t.lastChangeDate=`${r}-${e}-${o}`}}var o={serviceNumberCode:t.serviceNumberCode,searchTerm:t.searchTerm,description:t.description,serviceTypeCode:t.serviceTypeCode,materialGroupCode:t.materialGroupCode,serviceText:t.serviceText,mainItem:t.mainItem,shortTextChangeAllowed:t.shortTextChangeAllowed,deletionIndicator:t.deletionIndicator,convertedNumber:t.convertedNumber,numberToBeConverted:t.numberToBeConverted,toBeConvertedUnitOfMeasurement:t.toBeConvertedUnitOfMeasurement,defaultUnitOfMeasurement:t.defaultUnitOfMeasurement,baseUnitOfMeasurement:t.baseUnitOfMeasurement};console.log(o);fetch(`./odata/v4/sales-cloud/ServiceNumbers(${t.serviceNumberCode})`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}).then(e=>{sap.m.MessageToast.show("Service updated successfully");var a=this.getView().byId("serviceMaster").getModel("view");var r=a.getProperty("/ServiceNumbers")||[];var i=r.findIndex(e=>e.serviceNumberCode===t.serviceNumberCode);if(i>-1){r[i]={...r[i],...o};console.log(r);a.setProperty("/ServiceNumbers",r);a.refresh(true)}else{console.error("Updated item not found in ServiceNumbers array")}this._oEditDialog.close()}).catch(e=>{console.error("Update failed",e);sap.m.MessageBox.error("Update failed: "+e.message)})},onNavigateToAddServiceMaster(){this.getOwnerComponent().getRouter().navTo("addServiceMaster")},onShowDetails:function(){var e=this.byId("serviceMaster");var t=e.getSelectedItem();if(!t){sap.m.MessageBox.warning("Please, select an item");return}var a=t.getBindingContext("view");var o=a.getObject();if(!this._oValueHelpDialog){this._oValueHelpDialog=new sap.m.Dialog({title:"Service Master Details",titleAlignment:"Center",contentWidth:"800px",resizable:true,draggable:true,content:[],endButton:new sap.m.Button({text:"Close",press:()=>this._oValueHelpDialog.close()})});this.getView().addDependent(this._oValueHelpDialog)}this._oValueHelpDialog.setTitle("Service Master: "+(o.description||""));this._oValueHelpDialog.removeAllContent();var r=[{label:"Service Master Code",value:o.serviceNumberCode},{label:"Service Number",value:o.serviceNumberCodeString},{label:"Search Term",value:o.searchTerm},{label:"Description",value:o.description},{label:"Service Text",value:o.serviceText},{label:"Service Type Code",value:o.serviceTypeCode},{label:"Material Group Code",value:o.materialGroupCode},{label:"Base Unit of Measurement",value:o.baseUnitOfMeasurement},{label:"Number To Be Converted",value:o.numberToBeConverted},{label:"To Be Converted Unit of Measurement",value:o.toBeConvertedUnitOfMeasurement},{label:"Converted Number",value:o.convertedNumber},{label:"Converted Unit of Measurement",value:o.defaultUnitOfMeasurement},{label:"Main Item",value:o.mainItem?"Yes":"No"},{label:"Short Text Change Allowed",value:o.shortTextChangeAllowed?"Yes":"No"},{label:"Deletion Indicator",value:o.deletionIndicator?"Yes":"No"},{label:"Last Change Date",value:o.lastChangeDate}];var i=new sap.ui.layout.form.SimpleForm({editable:false,layout:"ResponsiveGridLayout",labelSpanM:4,labelSpanL:4,emptySpanL:1,emptySpanM:1,columnsL:1,columnsM:1,maxContainerCols:2,content:[]});i.addStyleClass("sapUiSmallMargin sapUiNoContentPadding");r.forEach(function(e){i.addContent(new sap.m.Label({text:e.label}));i.addContent(new sap.m.Input({value:e.value!=null?e.value.toString():"",editable:false,width:"100%"}))});var s=new sap.m.ScrollContainer({height:"400px",vertical:true,content:[i]});this._oValueHelpDialog.addContent(s);this._oValueHelpDialog.open()},_generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,a=e==="x"?t:t&3|8;return a.toString(16)})},onCopy:function(){var e=this.byId("serviceMaster");var t=e.getSelectedItem();if(!t){sap.m.MessageBox.warning("Please select an item to copy");return}var a=t.getBindingContext("view");if(!a){sap.m.MessageBox.error("No binding context found for the selected item");console.error("Binding context is undefined for selected item:",t);return}var o=Object.assign({},a.getObject());if(!o){sap.m.MessageBox.error("No data found for the selected item");return}var r=this._generateUUID();o.serviceNumberCode=r;o.serviceNumberCodeString=r;if(!this._oCopyDialog){this._oCopyDialog=new sap.m.Dialog({title:"Copy Service Master",titleAlignment:"Center",contentWidth:"700px",resizable:true,draggable:true,content:[],beginButton:new sap.m.Button({text:"Save",type:"Emphasized",press:this._onCopySave.bind(this)}),endButton:new sap.m.Button({text:"Cancel",press:()=>this._oCopyDialog.close()})});this.getView().addDependent(this._oCopyDialog)}var i=new sap.ui.model.json.JSONModel({copyData:Object.assign({},o)});this._oCopyDialog.setModel(i,"copyModel");this._oCopyDialog.removeAllContent();var s=new sap.ui.layout.form.SimpleForm({editable:true,layout:"ResponsiveGridLayout",labelSpanL:4,labelSpanM:4,columnsL:1,columnsM:1,maxContainerCols:2,emptySpanL:1,emptySpanM:1,content:[]});s.addStyleClass("sapUiSmallMargin sapUiNoContentPadding");function n(e,t){s.addContent(new sap.m.Label({text:e}));s.addContent(t)}n("Service Number Code",new sap.m.Input({value:"{copyModel>/copyData/serviceNumberCode}",editable:false}));n("Search Term",new sap.m.Input({value:"{copyModel>/copyData/searchTerm}"}));n("Description",new sap.m.Input({value:"{copyModel>/copyData/description}"}));n("Service Text",new sap.m.Input({value:"{copyModel>/copyData/serviceText}"}));n("Service Type",new sap.m.Select({items:{path:"serviceTypes>/",template:new sap.ui.core.Item({key:"{serviceTypes>serviceTypeCode}",text:"{serviceTypes>description}"})},selectedKey:"{copyModel>/copyData/serviceTypeCode}"}));n("Material Group",new sap.m.Select({items:{path:"materialGroups>/",template:new sap.ui.core.Item({key:"{materialGroups>materialGroupCode}",text:"{materialGroups>description}"})},selectedKey:"{copyModel>/copyData/materialGroupCode}"}));n("Base Unit of Measurement",new sap.m.Select({items:{path:"unitsOfMeasurement>/",template:new sap.ui.core.Item({key:"{units>code}",text:"{units>description}"})},selectedKey:"{copyModel>/copyData/baseUnitOfMeasurement}"}));n("Number To Be Converted",new sap.m.Input({value:"{copyModel>/copyData/numberToBeConverted}"}));n("To Be Converted Unit of Measurement",new sap.m.Select({items:{path:"unitsOfMeasurement>/",template:new sap.ui.core.Item({key:"{units>code}",text:"{units>description}"})},selectedKey:"{copyModel>/copyData/toBeConvertedUnitOfMeasurement}",width:"100%"}));n("Converted Number",new sap.m.Input({value:"{copyModel>/copyData/convertedNumber}"}));n("Converted Unit of Measurement",new sap.m.Select({items:{path:"unitsOfMeasurement>/",template:new sap.ui.core.Item({key:"{units>code}",text:"{units>description}"})},selectedKey:"{copyModel>/copyData/defaultUnitOfMeasurement}",width:"100%"}));n("Main Item",new sap.m.CheckBox({selected:"{copyModel>/copyData/mainItem}"}));n("Short Text Change Allowed",new sap.m.CheckBox({selected:"{copyModel>/copyData/shortTextChangeAllowed}"}));n("Deletion Indicator",new sap.m.CheckBox({selected:"{copyModel>/copyData/deletionIndicator}"}));var l=new sap.m.ScrollContainer({height:"500px",vertical:true,content:[s]});this._oCopyDialog.addContent(l);this._oCopyDialog.open()},_onCopySave:function(){var e=this._oCopyDialog.getModel("copyModel");var t=e.getProperty("/copyData");console.log("Copy Data:",t);var a={serviceNumberCode:this._generateUUID(),searchTerm:t.searchTerm,description:t.description,serviceTypeCode:t.serviceTypeCode,materialGroupCode:t.materialGroupCode,serviceText:t.serviceText,mainItem:t.mainItem,shortTextChangeAllowed:t.shortTextChangeAllowed,deletionIndicator:t.deletionIndicator,convertedNumber:t.convertedNumber,numberToBeConverted:t.numberToBeConverted,toBeConvertedUnitOfMeasurement:t.toBeConvertedUnitOfMeasurement,defaultUnitOfMeasurement:t.defaultUnitOfMeasurement,baseUnitOfMeasurement:t.baseUnitOfMeasurement};fetch("./odata/v4/sales-cloud/ServiceNumbers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}).then(e=>{sap.m.MessageToast.show("Service copied successfully");var t=this.getView().getModel("view");var a=t.getProperty("/ServiceNumbers")||[];a.push(e);t.setProperty("/ServiceNumbers",a);console.log("Updated ServiceNumbers array:",t.getProperty("/ServiceNumbers"));t.refresh(true);var o=this.byId("serviceMaster");console.log("Table items binding:",o.getBinding("items"));this._loadModels();var r=this.getView().byId("serviceMaster").getModel("view");var i=r.getProperty("/ServiceNumbers")||[];r.setProperty("/ServiceNumbers",i);r.refresh(true);this._oCopyDialog.close()}).catch(e=>{console.error("Copy failed:",e);sap.m.MessageBox.error("Copy failed: "+e.message)})},onExport:function(){var e=this.getView().getModel("view");var t=e.getProperty("/ServiceNumbers");if(!t||t.length===0){sap.m.MessageBox.warning("No data available to export");return}var a=[{label:"Service Master Code",property:"serviceNumberCode"},{label:"Search Term",property:"searchTerm"},{label:"Description",property:"description"},{label:"Last Changed Date",property:"lastChangeDate"},{label:"Service Type",property:"serviceText"}];var o={workbook:{columns:a},dataSource:t,fileName:"ServiceMaster.xlsx",worker:false};var r=new sap.ui.export.Spreadsheet(o);r.build().then(()=>{sap.m.MessageToast.show("Export finished!")}).finally(()=>{r.destroy()})},onDeletePress:function(){var e=this.byId("serviceMaster");var t=e.getSelectedItem();console.log(t);if(!t){l.warning("Please select a row to delete");return}var a=t.getBindingContext("view");if(!a){l.error("No binding context found for the selected item");console.error("Binding context is undefined for selected item:",t);return}var o=a.getObject();if(!o||!o.serviceNumberCode){l.error("Invalid data selected for deletion");console.error("Selected data is invalid:",o);return}var r=o.serviceNumberCode;console.log("Deleting ServiceNumber with code:",r);l.confirm("Are you sure you want to delete this service master?",{title:"Confirm Deletion",onClose:function(t){if(t===l.Action.OK){fetch(`/odata/v4/sales-cloud/ServiceNumbers('${r}')`,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(t=>{if(!t.ok){return t.json().then(e=>{throw new Error(e.error?.message||t.statusText)})}MessageToast.show("Service Master deleted successfully!");var a=this.getView().getModel("view");var o=a.getProperty("/ServiceNumbers")||[];console.log("Current ServiceNumbers array:",o);var i=o.findIndex(e=>e.serviceNumberCode===r);if(i>-1){o.splice(i,1);a.setProperty("/ServiceNumbers",o);a.refresh(true);console.log("Updated ServiceNumbers array:",a.getProperty("/ServiceNumbers"))}else{console.warn("Deleted item not found in ServiceNumbers array")}e.removeSelections(true)}).catch(e=>{console.error("Error deleting Service Master:",e);l.error("Failed to delete Service Master: "+e.message)})}}.bind(this)})},onSearch:function(e){var t=e.getParameter("newValue");var a=this.byId("serviceMaster");var o=a.getBinding("items");if(t&&t.length>0){var r=new sap.ui.model.Filter("serviceNumberCode",sap.ui.model.FilterOperator.Contains,t);var i=new sap.ui.model.Filter("searchTerm",sap.ui.model.FilterOperator.Contains,t);var s=new sap.ui.model.Filter("description",sap.ui.model.FilterOperator.Contains,t);var n=new sap.ui.model.Filter({filters:[r,i,s],and:false});o.filter([n])}else{o.filter([])}}})});
sap.ui.predefine("project1/controller/ServiceType.controller", ["sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/m/Dialog","sap/m/Input","sap/m/Button","sap/m/Label","sap/m/VBox","sap/ui/model/odata/v4/ODataModel"],function(e,t,r,o,i,s,n){"use strict";return e.extend("project1.controller.ServiceType",{onInit:function(){var e=new sap.ui.model.json.JSONModel({ServiceTypes:[],newCode:"",newDescription:""});this.getView().setModel(e,"view");fetch("./odata/v4/sales-cloud/ServiceTypes").then(e=>e.json()).then(t=>{e.setData({ServiceTypes:t.value});this.getView().byId("serviceTable").setModel(e)}).catch(e=>{console.error("Error fetching ServiceTypes",e)})},onAdd:function(){var e=this.getView().getModel();var t=e.getProperty("/newCode");var r=e.getProperty("/newDescription");if(t&&r){var o={serviceId:t,description:r};fetch("/odata/v4/sales-cloud/ServiceTypes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(e=>{if(!e.ok){throw new Error("Failed to save: "+e.statusText)}return e.json()}).then(t=>{var r=e.getProperty("/ServiceTypes")||[];r.push(t);e.setProperty("/ServiceTypes",r);e.setProperty("/newCode","");e.setProperty("/newDescription","")}).catch(e=>{console.error("Error saving ServiceType:",e);sap.m.MessageBox.error("Error: "+e.message)})}else{sap.m.MessageBox.warning("Please fill in Code and Description.")}},onEdit:function(e){var a=e.getSource();var d=a.getParent().getParent().getBindingContext();if(!d){t.warning("Error: Unable to retrieve row data");return}var c=d.getObject();var p=this.getView().getModel("view");if(!this._oEditDialog){this._oEditDialog=new r({title:"Edit Service Type",titleAlignment:"Center",contentWidth:"600px",content:new n({}),beginButton:new i({text:"Save",type:"Emphasized",press:()=>{var e=this._oEditDialog.getContent()[0].getContent();var t=e[1].getValue();var r=e[3].getValue();fetch(`/odata/v4/sales-cloud/ServiceTypes('${c.serviceTypeCode}')`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({serviceId:t,description:r})}).then(e=>{if(!e.ok){throw new Error("Failed to update: "+e.statusText)}return e.json()}).then(e=>{console.log(e);var t=p.getProperty("/ServiceTypes")||[];var r=t.findIndex(e=>e.serviceId===c.serviceId);if(r>-1){t[r]=e;p.setProperty("/ServiceTypes",t)}sap.m.MessageToast.show("Service Type updated successfully!");this._oEditDialog.close()}).catch(e=>{console.error("Error updating ServiceType:",e);sap.m.MessageBox.error("Error: "+e.message)})}}),endButton:new i({text:"Cancel",press:()=>this._oEditDialog.close()})});this.getView().addDependent(this._oEditDialog)}this._oEditDialog.removeAllContent();this._oEditDialog.addContent(new sap.ui.layout.form.SimpleForm({editable:true,layout:"ResponsiveGridLayout",content:[new s({text:"Code",design:"Bold"}),new o({value:c.serviceId}),new s({text:"Description",design:"Bold"}),new o({value:c.description})]}));this._oEditDialog.open()},onDelete:function(e){var r=e.getSource().getBindingContext();if(r){var o=r.getPath();var i=this.getView().getModel("view");var s=i.getProperty(o);t.confirm("Are you sure you want to delete "+s.serviceId+"?",{title:"Confirm Deletion",onClose:function(e){if(e===t.Action.OK){fetch(`/odata/v4/sales-cloud/ServiceTypes('${s.serviceTypeCode}')`,{method:"DELETE"}).then(e=>{if(!e.ok){throw new Error("Failed to delete: "+e.statusText)}var t=i.getProperty("/ServiceTypes");var r=t.findIndex(e=>e.serviceId===s.serviceId);if(r>-1){t.splice(r,1);i.setProperty("/ServiceTypes",t)}sap.m.MessageToast.show("Service Type deleted successfully!")}).catch(e=>{console.error("Error deleting ServiceType:",e);sap.m.MessageBox.error("Error: "+e.message)})}}})}},onOpenAddServiceTypeDialog:function(){var e=this.getView().getModel("view");var t=new r({title:"Add New Service Type",content:new sap.ui.layout.form.SimpleForm({editable:true,layout:"ResponsiveGridLayout",content:[new s({text:"Code",design:"Bold"}),new o({value:"{view>/newCode}",placeholder:"Enter Code"}),new s({text:"Description",design:"Bold"}),new o({value:"{view>/newDescription}",placeholder:"Enter Description"})]}),beginButton:new i({text:"Add",press:function(){var r=e.getProperty("/newCode");var o=e.getProperty("/newDescription");console.log("Entered values:",r,o);if(r&&o){var i={serviceId:r,description:o};fetch("/odata/v4/sales-cloud/ServiceTypes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(e=>{if(!e.ok){throw new Error("Failed to save: "+e.statusText)}return e.json()}).then(r=>{var o=e.getProperty("/ServiceTypes")||[];o.push(r);e.setProperty("/ServiceTypes",o);e.setProperty("/newCode","");e.setProperty("/newDescription","");sap.m.MessageToast.show("Service Type added successfully!");var i=this.byId("serviceTable");i.getBinding("items").refresh();t.close()}).catch(e=>{console.error("Error saving ServiceType:",e);sap.m.MessageBox.error("Error: "+e.message)})}else{sap.m.MessageBox.warning("Please fill in Code and Description.")}}.bind(this)}),endButton:new i({text:"Cancel",press:function(){e.setProperty("/newCode","");e.setProperty("/newDescription","");t.close()}}),afterClose:function(){t.destroy()}});t.setModel(e,"view");t.open()}})});
sap.ui.predefine("project1/controller/View1.controller", ["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("project1.controller.View1",{onInit(){},onNavigateToServiceType(){this.getOwnerComponent().getRouter().navTo("serviceType")},onNavigateToServiceMaster(){this.getOwnerComponent().getRouter().navTo("serviceMaster")},onNavigateToModel(){this.getOwnerComponent().getRouter().navTo("model")},onNavigateToFormula(){this.getOwnerComponent().getRouter().navTo("formulas")},onNavigateToExample(){this.getOwnerComponent().getRouter().navTo("example")}})});
sap.ui.predefine("project1/model/models", ["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
sap.ui.require.preload({
	"project1/i18n/i18n.properties":'# This is the resource bundle for project1\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=App Title\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=App Title',
	"project1/manifest.json":'{"_version":"1.76.0","sap.app":{"id":"project1","type":"application","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":[""]},"applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.18.5","toolsId":"d6f72122-0e78-4da9-82b1-5919759702f1"},"dataSources":{"mainService":{"uri":"odata/v4/sales-cloud/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}},"iconService":{"uri":"/odata/v4/sales-cloud/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.139.0","libs":{"sap.m":{},"sap.ui.core":{},"sap.tnt":{},"sap.f":{},"sap.ui.integration":{},"sap.ui.table":{},"sap.fe.macros":{},"sap.ui.layout":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"project1.i18n.i18n","supportedLocales":[""]}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"icon":{"dataSource":"iconService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","controlAggregation":"pages","controlId":"app","transition":"slide","type":"View","viewType":"XML","path":"project1.view","async":true,"viewPath":"project1.view"},"routes":[{"name":"serviceType","pattern":"serviceType","target":"serviceType"},{"name":"serviceMaster","pattern":"serviceMaster","target":"serviceMaster"},{"name":"model","pattern":"model","target":"model"},{"name":"modelServices","pattern":"modelServices/{modelSpecCode}","target":"modelServices"},{"name":"formula","pattern":"formula","target":"formula"},{"name":"formulas","pattern":"formulas","target":"formulas"},{"name":"addModel","pattern":"addModel","target":"addModel"},{"name":"addServiceMaster","pattern":"addServiceMaster","target":"addServiceMaster"},{"pattern":"example","name":"example","target":"example"},{"name":"RoutemainPage","pattern":":?query:","target":["TargetView1"]}],"targets":{"serviceType":{"viewName":"ServiceType"},"serviceMaster":{"viewName":"ServiceMaster"},"model":{"viewName":"Model"},"modelServices":{"viewName":"ModelServices"},"formula":{"viewName":"Formula"},"formulas":{"viewName":"Formulas"},"addModel":{"viewName":"AddModel"},"addServiceMaster":{"viewName":"AddServiceMaster"},"example":{"viewName":"Example"},"TargetView1":{"id":"View1","name":"View1"}}},"rootView":{"viewName":"project1.view.App","type":"XML","id":"App","async":true}},"sap.cloud":{"public":true,"service":"Maramer-approuter"}}',
	"project1/view/AddModel.view.xml":'<mvc:View\n    controllerName="project1.controller.AddModel"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:form="sap.ui.layout.form"\n><Page\n        id="addModelPage"\n        title="Add Model"\n    ><content><Panel\n                id="_IDGenPanel4"\n                class="sapUiSmallMargin"\n                expandable="false"\n            ><HBox\n                    id="_IDGenHBox4"\n                    class="sapUiSmallMargin"\n                   \n                ><VBox\n                        id="_IDGenVBox17"\n                        class="sapUiSmallMarginEnd"\n                    ><Label\n                            id="_IDGenLabel57"\n                            text="ModelServ.Spec:"\n                        /><Input\n                            id="modelServSpec"\n                            width="200px"\n                        /></VBox><VBox\n                        id="_IDGenVBox3"\n                        class="sapUiSmallMarginEnd"\n                    ><Label\n                            id="_IDGenLabel109"\n                            text="Blocking Indicator:"\n                        /><CheckBox id="blockingIndicator" /></VBox><VBox\n                        id="_IDGenVBox4"\n                        class="sapUiSmallMarginEnd"\n                    ><Label\n                            id="_IDGenLabel2"\n                            text="Service Selection:"\n                        /><CheckBox id="serviceSelection" /></VBox></HBox></Panel><Panel id="_IDGenPanel1" ><Label\n                    id="_IDGenLabel3"\n                    text="General Data:"\n                    design="Bold"\n                /><form:SimpleForm\n                    id="_IDGenSimpleForm"\n                    editable="true"\n                    layout="ResponsiveGridLayout"\n                ><form:content><Label\n                            id="_IDGenLabel4"\n                            text="Description"\n                            required="true"\n                        /><Input\n                            id="description"\n                            width="250px"\n                        /><Label\n                            id="_IDGenLabel5"\n                            text="Search Term"\n                        /><Input\n                            id="searchTerm"\n                            width="250px"\n                        /><Label\n                            id="_IDGenLabel110"\n                            required="true"\n                            text="Select Currency"\n                        /><Select\n                            id="currency"\n                            width="200px"\n                            forceSelection="false"\n                            items="{path: \'currencies>/\'}"\n                        ><core:Item\n                                id="_IDGenItem8"\n                                key="{currencies>currencyCode}"\n                                text="{currencies>description}"\n                            /></Select></form:content></form:SimpleForm><HBox\n                    id="_IDGenHBox5"\n                    justifyContent="Center"\n                ><Button\n                        id="_IDGenButton16"\n                        text="Add Model"\n                        icon="sap-icon://add"\n                        press="onAddModel"\n                    /></HBox></Panel></content></Page></mvc:View>\n',
	"project1/view/AddServiceMaster.view.xml":'<mvc:View\n    controllerName="project1.controller.AddServiceMaster"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:sap.m="sap.m"\n    xmlns:f="sap.f"\n    xmlns:w="sap.ui.integration.widgets"\n    xmlns:tnt="sap.tnt"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:table="sap.ui.table"\n    xmlns:layout="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns:m="sap.m"\n    xmlns:u="sap.ui.unified"\n    xmlns:macros="sap.fe.macros"\n><Page\n        id="_IDGenPage1"\n        title="Service Master"\n    ><Panel\n            id="_IDGenPanel2"\n            class="sapUiSmallMargin"\n        ><HBox id="_IDGenVBox7"><Label\n                    id="_IDGenLabel7"\n                    text="Service Number (ID):"\n                    class="sapUiSmallMargin"\n                /><Input\n                    id="_IDGenInput1"\n                    type="Number"\n                    width="200px"\n                    class="sapUiSmallMargin"\n                /><Label\n                    id="_IDGenLabel9"\n                    text="Search Term"\n                    class="sapUiSmallMargin"\n                    required="true"\n                /><Input\n                    id="_IDGenInput2"\n                    required="true"\n                    width="200px"\n                    class="sapUiSmallMargin"\n                /><Label\n                    id="_IDGenLabel18"\n                    text="Description"\n                    class="sapUiSmallMargin"\n                    required="true"\n                /><Input\n                    id="_IDGenInput3"\n                    required="true"\n                    width="200px"\n                    class="sapUiSmallMargin"\n                /><Label\n                    id="_IDGenLabel19"\n                    text="Service Text"\n                    class="sapUiSmallMargin"\n                /><Input\n                    id="_IDGenInput4"\n                    required="true"\n                    width="200px"\n                    class="sapUiSmallMargin"\n                /></HBox><HBox\n                id="_IDGenHBox10"\n                class="sapUiSmallMargin"\n            ><Label\n                    id="_IDGenLabel16"\n                    text="Short Text Change Allowed:"\n                    class="sapUiSmallMargin"\n                /><CheckBox id="_IDGenCheckBox1" /><Label\n                    id="_IDGenLabel21"\n                    text="Deletion Indicator:"\n                    class="sapUiSmallMargin"\n                /><CheckBox id="_IDGenCheckBox3" /></HBox><HBox\n                id="_IDGenHBox11"\n                class="sapUiSmallMargin"\n            ><VBox\n                    id="_IDGenHBox13"\n                    class="sapUiSmallMargin"\n                ><Label\n                        id="_IDGenLabel13"\n                        required="true"\n                        class="sapUiSmallMarginEnd"\n                        text="Select Service Type"\n                    /><Select\n                        id="_IDGenSelect5"\n                        class="sapUiSmallMarginStart"\n                        width="200px"\n                        forceSelection="false"\n                        items="{\tpath: \'serviceTypes>/\'}"\n                    ><core:Item\n                            id="_IDGenItem5"\n                            key="{serviceTypes>serviceTypeCode}"\n                            text="{serviceTypes>description}"\n                        /></Select></VBox><VBox\n                    id="_IDGenVBox12"\n                    class="sapUiSmallMargin"\n                ><Label\n                    required="true"\n                        id="_IDGenLabel14"\n                        class="sapUiSmallMarginEnd"\n                        text="Select Base UnitOfMeasurment"\n                    /><Select\n                        id="_IDGenSelect1"\n                        class="sapUiSmallMarginStart"\n                        width="200px"\n                        forceSelection="false"\n                        items="{\tpath: \'unitsOfMeasurement>/\'}"\n                    ><core:Item\n                            id="_IDGenItem6"\n                            key="{unitsOfMeasurement>unitOfMeasurementCode}"\n                            text="{unitsOfMeasurement>description}"\n                        /></Select></VBox></HBox></Panel><Panel\n            id="_IDGenPanel3"\n            headerText="Control Data"\n        ><Text\n                id="_IDGenText36"\n                text="Conversion:"\n            /><HBox id="_IDGenHBox14"><VBox\n                    id="_IDGenVBox9"\n                    class="sapUiSmallMargin"\n                ><Label\n                        id="_IDGenLabel20"\n                        text="To Be Converted Number:"\n                        class="sapUiSmallMarginStart"\n                    /><Input\n                        id="_IDGenInput5"\n                        type="Number"\n                        width="250px"\n                        class="sapUiSmallMarginStart"\n                    /></VBox><VBox\n                    id="_IDGenVBox14"\n                    class="sapUiSmallMargin"\n                ><Label\n                        id="_IDGenLabel22"\n                        text="Select To Be Converted UOM:"\n                        class="sapUiSmallMarginStart"\n                    /><Select\n                        id="_IDGenSelect2"\n                        class="sapUiSmallMarginStart"\n                        width="200px"\n                        forceSelection="false"\n                        items="{\tpath: \'unitsOfMeasurement>/\'}"\n                    ><core:Item\n                            id="_IDGenItem3"\n                             key="{unitsOfMeasurement>unitOfMeasurementCode}"\n                            text="{unitsOfMeasurement>description}"\n                        /></Select></VBox></HBox><HBox id="_IDGenHBox15"><VBox\n                    id="_IDGenVBox13"\n                    class="sapUiSmallMargin"\n                ><Label\n                        id="_IDGenLabel23"\n                        text="Converted Number:"\n                        class="sapUiSmallMarginStart"\n                    /><Input\n                        id="_IDGenInput9"\n                        type="Number"\n                        width="250px"\n                        class="sapUiSmallMarginStart"\n                    /></VBox><VBox\n                    id="_IDGenVBox15"\n                    class="sapUiSmallMargin"\n                ><Label\n                        id="_IDGenLabel24"\n                        text="Select  Converted UOM:"\n                        class="sapUiSmallMarginStart"\n                    /><Select\n                        id="_IDGenSelect3"\n                        class="sapUiSmallMarginStart"\n                        width="200px"\n                        forceSelection="false"\n                    items="{\tpath: \'unitsOfMeasurement>/\'}"\n\n                    ><core:Item\n                            id="_IDGenItem4"\n                           key="{unitsOfMeasurement>unitOfMeasurementCode}"\n                            text="{unitsOfMeasurement>description}"\n                        /></Select></VBox></HBox><HBox\n                id="_IDGenHBox16"\n                class="sapUiSmallMargin"\n            ><Label\n                    id="_IDGenLabel26"\n                    text="MainItem"\n                    class="marginTop"\n                    width="200px"\n                /><CheckBox id="_IDGenCheckBox4" /><Label\n                    id="_IDGenLabel27"\n                    text="Select Material Group:"\n                    class="sapUiSmallMarginStart marginTop marginEnd marginStart"\n                /><Select\n                    id="_IDGenSelect4"\n                    class="sapUiSmallMarginStart"\n                    width="200px"\n                    forceSelection="false"\n                    items="{\tpath: \'materialGroups>/\'}"\n                ><core:Item\n                        id="_IDGenItem7"\n                        key="{materialGroups>materialGroupCode}"\n                        text="{materialGroups>description}"\n                    /></Select></HBox><HBox\n                id="_IDGenHBox17"\n                justifyContent="Center"\n                class="sapUiSmallMargin"\n            ><Button\n                    id="_IDGenButton27"\n                    text="Add"\n                    press="onAddPress"\n                /></HBox></Panel></Page></mvc:View>\n',
	"project1/view/App.view.xml":'<mvc:View controllerName="project1.controller.App"\n    displayBlock="true"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><App id="app"></App></mvc:View>',
	"project1/view/Example.view.xml":'<mvc:View\n  controllerName="project1.controller.Example"\n  xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:l="sap.ui.layout"\n    xmlns:core="sap.ui.core"><Page id="page" title="{i18n>title}"><VBox id="_IDGenVBox1" class="sapUiSmallMargin sapUiContentPadding" alignItems="Center" justifyContent="Center" height="100%"><Panel id="_IDGenPanel"\n            width="400px"\n            class="sapUiResponsiveMargin"\n            backgroundDesign="Solid"\n            headerText="Enter Quotation Details:"\n           ><content><VBox id="_IDGenVBox2" class="sapUiSmallMargin"><Label id="_IDGenLabel" text="Document Number:" /><Input id="_IDGenInput"\n                        value="{/DocumentNumber}"\n                        width="100%"/><Label id="_IDGenLabel1" text="Select Item Number" required="true"/><Select id="_IDGenSelect"\n                        width="100%"\n                        selectedKey="{/SelectedItemNumber}"><items><core:Item id="_IDGenItem" key="1" text="Item 1"/><core:Item id="_IDGenItem1" key="2" text="Item 2"/><core:Item id="_IDGenItem2" key="3" text="Item 3"/></items></Select><Text id="_IDGenText" text="{/ErrorMessage}" visible="{= !!${/ErrorMessage} }" /><Button id="_IDGenButton"\n                        text="Next"\n                        type="Emphasized"\n                        press=".onNextPress"\n                        class="sapUiTinyMarginTop"/></VBox></content></Panel></VBox></Page></mvc:View>\n',
	"project1/view/Formula.view.xml":'<mvc:View\n    controllerName="project1.controller.Formula"\n     xmlns="sap.m"\n     xmlns:mvc="sap.ui.core.mvc"\n      xmlns:sap.m="sap.m"\n    xmlns:f="sap.f"\n    xmlns:w="sap.ui.integration.widgets"\n    xmlns:tnt="sap.tnt"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:table="sap.ui.table"\n    xmlns:layout="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n        xmlns:m="sap.m"\n        xmlns:u="sap.ui.unified"\n        \txmlns:macros="sap.fe.macros"><Page id="_IDGenPage8" title="Formula"><Wizard id="wizard"><steps><WizardStep id="step1" title="Create" validated="true"><VBox id="_IDGenVBox5"><Label id="_IDGenLabel8" text="Formula Name *" /><Input id="formulaNameInput" placeholder="Enter Formula Name" required="true" /><Label id="_IDGenLabel10" text="Description *" /><TextArea id="formulaDescriptionInput" placeholder="Enter Description" required="true" /><Label id="_IDGenLabel17" text="NumberOfParams *" /><Input id="NumberOfParamsInput" placeholder="Enter Number of Parameters" required="true" type="Number" value="{/paramCount}" liveChange="onParamCountChange" submit="updateParamIdsText" /></VBox></WizardStep><WizardStep id="step2" title="Set Parameters" validated="true"><VBox id="_IDGenVBox8" /></WizardStep><WizardStep id="step3" title="Relation" validated="true"><VBox id="_IDGenVBox11"><Label id="_IDGenLabel11" text="Parameters You Entered:" /><HBox id="paramIdsContainer" class="sapUiSmallTopMargin" /><Label id="_IDGenLabel12" text="Relation Details" class="sapUiSmallTopMargin" /><HBox id="_IDGenHBox1"><TextArea id="relationInput" placeholder="Enter Relation (e.g., P1 + P2)" value="{/relationText}" width="300px" editable="true" /><HBox id="_IDGenHBox12" class="sapUiSmallMargin"><Button id="_IDGenButton20" text="+" press="onAddOperation" /><Button id="_IDGenButton22" text="-" press="onAddOperation" /><Button id="_IDGenButton25" text="*" press="onAddOperation" /><Button id="_IDGenButton26" text="/" press="onAddOperation" /><Button id="_IDGenButton28" text="^" press="onAddOperation" /><Button id="_IDGenButton29" text="π" press="onAddOperation" /><Button id="_IDGenButton30" text="%" press="onAddOperation" /></HBox></HBox></VBox></WizardStep><WizardStep id="step4" title="Test" validated="true"><VBox id="_IDGenVBox10"><Text id="_IDGenText35" text="{/formulaReview}" /><VBox id="testInputsContainer" /><HBox id="_IDGenHBox19" justifyContent="SpaceBetween"><Button id="_IDGenButton31" text="Show Result" press="onShowResult" type="Emphasized" class="sapUiSmallRightMargin" /><Button id="_IDGenButton21" text="Save Formula" press="onSaveFormula" type="Emphasized" /></HBox></VBox></WizardStep></steps></Wizard></Page></mvc:View>',
	"project1/view/Formulas.view.xml":'<mvc:View controllerName="project1.controller.Formulas"\n    xmlns="sap.m"\n     xmlns:mvc="sap.ui.core.mvc"\n      xmlns:sap.m="sap.m"\n    xmlns:f="sap.f"\n    xmlns:w="sap.ui.integration.widgets"\n    xmlns:tnt="sap.tnt"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:table="sap.ui.table"\n    xmlns:layout="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n        xmlns:m="sap.m"\n        xmlns:u="sap.ui.unified"\n        \txmlns:macros="sap.fe.macros"><Page id="_IDGenPage9" title="Formuals"><headerContent><Button id="_IDGenButton33" icon="sap-icon://add" tooltip="Add" text="New Formula" press="onNavigateToAddFormula" /></headerContent><Table id="formulasTable" items="{path: \'/Formulas\'}"><columns><Column id="_IDGenColumn19"><Text id="_IDGenText37" text="Code" /></Column><Column id="_IDGenColumn20"><Text id="_IDGenText38" text="Description" /></Column><Column id="_IDGenColumn22"><Text id="_IDGenText40" text="Actions" /></Column></columns><items><ColumnListItem id="_IDGenColumnListItem3"><cells><Text id="_IDGenText41" text="{formula}" /><Text id="_IDGenText42" text="{description}" /><HBox id="_IDGenHBox20"><Button id="_IDGenButton34" icon="sap-icon://information" press="onDetails" /><Button id="_IDGenButton35" icon="sap-icon://delete" press="onDelete" /></HBox></cells></ColumnListItem></items></Table></Page></mvc:View>',
	"project1/view/Model.view.xml":'<mvc:View controllerName="project1.controller.Model"\n    xmlns="sap.m"\n     xmlns:mvc="sap.ui.core.mvc"\n      xmlns:sap.m="sap.m"\n    xmlns:f="sap.f"\n    xmlns:w="sap.ui.integration.widgets"\n    xmlns:tnt="sap.tnt"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:table="sap.ui.table"\n    xmlns:layout="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n        xmlns:m="sap.m"\n        xmlns:u="sap.ui.unified"\n        \txmlns:macros="sap.fe.macros"><Page id="_IDGenPage4" title="Models"><headerContent><Button id="_IDGenButton14" icon="sap-icon://add" tooltip="Add" text="New Model" press="onPress" /></headerContent><Table id="modelTable" items="{path: \'/Models\'}" ><columns><Column id="_idGenColumn"><Text id="_IDGenText7" text="modelServ.Spec" /></Column><Column id="_IDGenColumn"><Text id="_IDGenText9" text="blockingIndicator" /></Column><Column id="_IDGenColumn5"><Text id="_IDGenText10" text="ServiceSelection" /></Column><Column id="_IDGenColumn6"><Text id="_IDGenText11" text="Description" /></Column><Column id="_IDGenColumn7"><Text id="_IDGenText12" text="SearchTerm" /></Column><Column id="_IDGenColumn8"><Text id="_IDGenText13" text="Currency" /></Column><Column id="_IDGenColumn9"><Text id="_IDGenText14" text="Services" /></Column><Column id="_IDGenColumn10"><Text id="_IDGenText8" text="Actions" /></Column></columns><items><ColumnListItem id="_IDGenColumnListItem1"><cells><Text id="_IDGenText15" text="{modelServSpec}" /><Text id="_IDGenText16" text="{blockingIndicator}" /><Text id="_IDGenText17" text="{serviceSelection}" /><Text id="_IDGenText18" text="{description}" /><Text id="_IDGenText19" text="{searchTerm}" /><Text id="_IDGenText20" text="{currencyCode}" /><Button id="_IDGenButton15" icon="sap-icon://share" press=".onNavigateToModelServices" text="Services" /><HBox id="_IDGenHBox2"><Button id="_IDGenButton4" icon="sap-icon://edit" press="onEdit" /><Button id="_IDGenButton13" icon="sap-icon://delete" press="onDelete" /></HBox></cells></ColumnListItem></items></Table></Page></mvc:View>',
	"project1/view/ModelServices.view.xml":'<mvc:View\n    controllerName="project1.controller.ModelServices"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:sap.m="sap.m"\n    xmlns:w="sap.ui.integration.widgets"\n    xmlns:tnt="sap.tnt"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:table="sap.ui.table"\n    xmlns:layout="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns:m="sap.m"\n    xmlns:u="sap.ui.unified"\n    xmlns:macros="sap.fe.macros"\n    xmlns:l="sap.ui.layout"\n    xmlns:f="sap.ui.layout.form"\n    xmlns:r="sap.ui.table.rowmodes"\n><Page\n        id="_IDGenPage7"\n        title="Model Services"\n        enableScrolling="true"\n        class="sapUiContentPadding"\n    ><headerContent><Button\n                id="_IDGenButton36"\n                icon="sap-icon://add"\n                tooltip="Add"\n                text="Add New Model Service"\n                press="onOpenMainDialog"\n                class="customTopMargin"\n            /></headerContent><Panel\n            id="_IDGenPanel5"\n            expandable="true"\n            expanded="true"\n            class="customPanel "\n        ><VBox id="_IDGenVBox16"><HBox id="_IDGenHBox23"><Label\n                        id="_IDGenLabel55"\n                        text="Short Text:"\n                        class="sapUiSmallMargin"\n                    /><Button\n                        id="_IDGenButton41"\n                        text="Export to Excel"\n                        class="sapUiSmallMargin"\n                        press="onExportToExcel"\n                        type="Transparent"\n                        icon="sap-icon://excel-attachment"\n                    /><Button\n                        id="_IDGenButton42"\n                        text="Import from Excel"\n                        class="sapUiSmallMargin"\n                        press="_openExcelUploadDialogModelSpec"\n                        type="Transparent"\n                        icon="sap-icon://excel-attachment"\n                    /></HBox><HBox\n                    id="_IDGenHBox21"\n                    justifyContent="SpaceBetween"\n                    class="summarySection"\n                ></HBox><m:HBox id="_IDGenHBox8"\n                justifyContent="Center"\n                alignItems="Center"\n            ><m:VBox id="_IDGenVBox6"\n                    class="myRectangle"\n                    alignItems="Center"\n                    justifyContent="Center"\n                ><m:Text id="_IDGenText33"\n                        text="Total Value:"\n                    /></m:VBox><m:VBox id="_IDGenVBox19"\n                    class="myRectangle"\n                    alignItems="Center"\n                    justifyContent="Center"\n                ><m:Text id="_IDGenText59"\n                        text="{/Total}"\n                    /></m:VBox><m:VBox id="_IDGenVBox20"\n                    class="myRectangle"\n                    alignItems="Center"\n                    justifyContent="Center"\n                ><m:Text id="_IDGenText91"\n                        text="SAR"\n                    /></m:VBox></m:HBox></VBox></Panel><VBox id="_IDGenVBox18"><HBox id="_IDGenHBox24"><m:SearchField\n                                id="filterLine"\n                                placeholder="Search Models Specs..."\n                                width="250px"\n                                search="onSearchModelServices"\n                                liveChange="onSearchModelServices"\n                            /></HBox></VBox><table:Table\n            id="modelServicesTable"\n            rows="{/ModelServices}"\n            visibleRowCount="10"\n            minAutoRowCount="5"\n            enableColumnReordering="true"\n            columnHeaderHeight="40"\n        ><table:columns><table:Column\n                    id="_IDGenColumn29"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText54"\n                            text="Line"\n                        /></table:label><table:template><Text\n                            id="_IDGenText28"\n                            text="{lineIndex}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn30"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText55"\n                            text="Service.No"\n                        /></table:label><table:template><Text\n                            id="_IDGenText29"\n                            text="{serviceNumberCode}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn31"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText56"\n                            text="ShortText"\n                        /></table:label><table:template><Text\n                            id="_IDGenText30"\n                            text="{shortText}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn32"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText57"\n                            text="Quantity"\n                        /></table:label><table:template><Text\n                            id="_IDGenText31"\n                            text="{quantity}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn33"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText58"\n                            text="Formula"\n                        /></table:label><table:template><Text\n                            id="_IDGenText32"\n                            text="{formulaDescription}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn35"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText60"\n                            text="GrossPrice"\n                        /></table:label><table:template><Text\n                            id="_IDGenText34"\n                            text="{grossPrice}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn36"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText61"\n                            text="Net Value"\n                        /></table:label><table:template><Text\n                            id="_IDGenText62"\n                            text="{netValue}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn37"\n                    width="120px"\n                ><table:label><Text\n                            id="_IDGenText63"\n                            text="UnitOfMeasure*"\n                        /></table:label><table:template><Text\n                            id="_IDGenText64"\n                            text="{unitOfMeasurementDescription}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn38"\n                    width="80px"\n                ><table:label><Text\n                            id="_IDGenText65"\n                            text="Currency"\n                        /></table:label><table:template><Text\n                            id="_IDGenText66"\n                            text="{currencyDescription}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn11"\n                    width="120px"\n                ><table:label><Text\n                            id="_IDGenText67"\n                            text="OverF.Percentage"\n                        /></table:label><table:template><Text\n                            id="_IDGenText68"\n                            text="{overFulfilmentPercentage}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn12"\n                    width="120px"\n                ><table:label><Text\n                            id="_IDGenText69"\n                            text="PriceChangeAllowed"\n                        /></table:label><table:template><Text\n                            id="_IDGenText39"\n                            text="{priceChangedAllowed}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn13"\n                    width="120px"\n                ><table:label><Text\n                            id="_IDGenText70"\n                            text="UnlimitedOverF"\n                        /></table:label><table:template><Text\n                            id="_IDGenText71"\n                            text="{unlimitedOverFulfillment}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn14"\n                    width="150px"\n                ><table:label><Text\n                            id="_IDGenText72"\n                            text="PricePerUnitOfMeasurement"\n                        /></table:label><table:template><Text\n                            id="_IDGenText73"\n                            text="{pricePerUnitOfMeasurement}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn15"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText74"\n                            text="Mat Group"\n                        /></table:label><table:template><Text\n                            id="_IDGenText75"\n                            text="{materialGroupCode}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn16"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText76"\n                            text="Service Type"\n                        /></table:label><table:template><Text\n                            id="_IDGenText43"\n                            text="{serviceTypeCode}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn17"\n                    width="120px"\n                ><table:label><Text\n                            id="_IDGenText77"\n                            text="External.Service.No"\n                        /></table:label><table:template><Text\n                            id="_IDGenText44"\n                            text="{externalServiceNumber}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn18"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText78"\n                            text="Service Text"\n                        /></table:label><table:template><Text\n                            id="_IDGenText45"\n                            text="{serviceText}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn39"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText79"\n                            text="Line Text"\n                        /></table:label><table:template><Text\n                            id="_IDGenText46"\n                            text="{lineText}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn40"\n                    width="120px"\n                ><table:label><Text\n                            id="_IDGenText80"\n                            text="PersonnelNumber"\n                        /></table:label><table:template><Text\n                            id="_IDGenText47"\n                            text="{personnelNumberCode}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn21"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText21"\n                            text="Line Type"\n                        /></table:label><table:template><Text\n                            id="_IDGenText48"\n                            text="{lineTypeCode}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn41"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText22"\n                            text="Line Number"\n                        /></table:label><table:template><Text\n                            id="_IDGenText49"\n                            text="{lineNumber}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn23"\n                    width="80px"\n                ><table:label><Text\n                            id="_IDGenText23"\n                            text="Alt"\n                        /></table:label><table:template><Text\n                            id="_IDGenText50"\n                            text="{alternatives}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn24"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText24"\n                            text="Bidder\'s Line"\n                        /></table:label><table:template><Text\n                            id="_IDGenText51"\n                            text="{biddersLine}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn25"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText25"\n                            text="Supp.Line"\n                        /></table:label><table:template><Text\n                            id="_IDGenText52"\n                            text="{supplementaryLine}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn26"\n                    width="100px"\n                ><table:label><Text\n                            id="_IDGenText26"\n                            text="Cstg Ls"\n                        /></table:label><table:template><Text\n                            id="_IDGenText53"\n                            text="{lotSizeForCostingIsOne}"\n                        /></table:template></table:Column><table:Column\n                    id="_IDGenColumn27"\n                    width="150px"\n                ><table:label><Text\n                            id="_IDGenText27"\n                            text="Actions"\n                        /></table:label><table:template><HBox id="_IDGenHBox6"><Button\n                                id="_IDGenButton17"\n                                icon="sap-icon://information"\n                                press="onDetails"\n                            /><Button\n                                id="_IDGenButton19"\n                                icon="sap-icon://edit"\n                                press=".onEditModelSpecDetails"\n                            /><Button\n                                id="_IDGenButton18"\n                                icon="sap-icon://delete"\n                                press="onDelete"\n                            /></HBox></table:template></table:Column></table:columns></table:Table><m:Dialog\n            id="addModelServiceDialog"\n            title="Add Main Item"\n            contentWidth="800px"\n            contentHeight="80%"\n            resizable="true"\n            draggable="true"\n        ><f:SimpleForm\n                id="mainItemForm"\n                editable="true"\n                layout="ResponsiveGridLayout"\n                class="sapUiSmallMargin"\n            ><f:content><m:Label\n                        id="_IDGenLabel28"\n                        text="Service.No"\n                    /><m:Select\n                        id="mainModelServiceNoSelect"\n                        selectedKey="{/SelectedServiceNumber}"\n                        forceSelection="false"\n                        items="{path: \'/ServiceNumbers\'}"\n                        change=".onServiceNumberChange"\n                    ><core:Item\n                            id="_IDGenItem14"\n                            key="{serviceNumberCode}"\n                            text="{description}"\n                        /></m:Select><m:Label\n                        id="_IDGenLabel25"\n                        text="Short Text"\n                    /><m:Input\n                        id="mainShortTextInput"\n                        placeholder="Short Text"\n                    /><m:Label\n                        id="_IDGenLabel6"\n                        text="Quantity"\n                    /><m:Input\n                        id="mainQuantityInput"\n                        placeholder="Quantity"\n                        type="Number"\n                        liveChange=".onInputChange"\n                    /><m:Label\n                        id="_IDGenLabel34"\n                        text="Gross Price"\n                    /><m:Input\n                        id="mainAmountPerUnitInput"\n                        type="Number"\n                        placeholder="Gross Price"\n                        liveChange=".onInputChange"\n                    /><m:Label\n                        id="_IDGenLabel35"\n                        text="Net Value"\n                    /><m:Input\n                        id="mainTotalInput"\n                        placeholder="Net Value"\n                        editable="false"\n                        value="{/netValue}"\n                        liveChange=".onInputChange"\n                    /><m:Label\n                        id="_IDGenLabel30"\n                        text="Formula"\n                    /><m:Select\n                        id="formulaSelect"\n                        forceSelection="false"\n                        items="{path: \'/Formulas\'}"\n                        change="onFormulaSelected"\n                    ><core:Item\n                            id="_IDGenItem11"\n                            key="{formulaCode}"\n                            text="{description}"\n                        /></m:Select><m:Label\n                        id="_IDGenLabel31"\n                        text=""\n                    /><m:Button\n                        id="btnParameters"\n                        text="Enter Parameters"\n                        enabled="{/HasSelectedFormula}"\n                        press="onOpenFormulaDialog"\n                    /><m:Label\n                        id="_IDGenLabel32"\n                        text="UOM"\n                    /><m:Select\n                        id="mainUOMSelect"\n                        forceSelection="false"\n                        items="{path: \'/UOM\'}"\n                    ><core:Item\n                            id="_IDGenItem12"\n                            key="{unitOfMeasurementCode}"\n                            text="{description}"\n                        /></m:Select><Label\n                        id="_IDGenLabel29"\n                        text="Currency"\n                    /><Select\n                        id="mainCurrencySelect"\n                        forceSelection="false"\n                        items="{path: \'/Currency\'}"\n                    ><core:Item id="mainCurrency"\n                            key="{currencyCode}"\n                            text="{description}"\n                        /></Select><Label\n                        id="_IDGenLabel36"\n                        text="OverF.Percentage"\n                    /><Input\n                        id="mainOverFInput"\n                        placeholder="OverFulfilment %"\n                        type="Number"\n                    /><Label\n                        id="_IDGenLabel37"\n                        text="Price Change Allowed"\n                    /><CheckBox\n                        id="mainPriceChangeAllowed"\n                    /><Label\n                        id="_IDGenLabel38"\n                        text="Unlimited OverFulfillment"\n                    /><CheckBox\n                        id="mainUnlimitedOverF"\n                    /><Label\n                        id="_IDGenLabel39"\n                        text="Price Per Unit Of Measurement"\n                    /><Input\n                        id="mainPricePerUnitInput"\n                        type="Number"\n                        placeholder="Price/Unit"\n                    /><Label\n                        id="_IDGenLabel40"\n                        text="Mat Group"\n                    /><Select\n                        id="mainMatGroupSelect"\n                        forceSelection="false"\n                        items="{path: \'/MatGroups\'}"\n                    ><core:Item\n                            id="_IDGenItem9"\n                            key="{materialGroupCode}"\n                            text="{description}"\n                        /></Select><Label\n                        id="_IDGenLabel41"\n                        text="Service Type"\n                    /><Select\n                        id="mainServiceTypeSelect"\n                        forceSelection="false"\n                        items="{path: \'/ServiceTypes\'}"\n                    ><core:Item\n                            id="_IDGenItem10"\n                            key="{serviceTypeCode}"\n                            text="{description}"\n                        /></Select><Label\n                        id="_IDGenLabel33"\n                        text="External Service No"\n                    /><Input\n                        id="mainExternalServiceNo"\n                        placeholder="External Service No"\n                    /><Label\n                        id="_IDGenLabel42"\n                        text="Service Text"\n                    /><Input\n                        id="mainServiceText"\n                        placeholder="Service Text"\n                    /><Label\n                        id="_IDGenLabel43"\n                        text="Line Text"\n                    /><Input\n                        id="mainLineText"\n                        placeholder="Line Text"\n                    /><Label\n                        id="_IDGenLabel44"\n                        text="Personnel Number"\n                    /><Select\n                        id="personnelNumber"\n                        forceSelection="false"\n                        items="{path: \'/personnelNumbers\'}"\n                    ><core:Item\n                            id="_IDGenItem13"\n                            key="{personnelNumberCode}"\n                            text="{description}"\n                        /></Select><Label\n                        id="_IDGenLabel15"\n                        text="Service Types"\n                    /><Select\n                        id="serviceTypes"\n                        forceSelection="false"\n                        items="{path: \'/ServiceTypes\'}"\n                    ><core:Item\n                            id="_IDGenItem15"\n                            key="{serviceTypeCode}"\n                            text="{description}"\n                        /></Select><Label\n                        id="_IDGenLabel45"\n                        text="Line Types"\n                    /><Select\n                        id="lineTypes"\n                        forceSelection="false"\n                        items="{path: \'/LineTypes\'}"\n                    ><core:Item\n                            id="_IDGenItem17"\n                            key="{lineTypeCode}"\n                            text="{description}"\n                        /></Select><Label id="_IDGenLabel47"\n                        text="Line Number"\n                    /><Input id="_IDGenInput6"\n                        placeholder="Line Number"\n                    /><Label id="_IDGenLabel48"\n                        text="Alt"\n                    /><Input id="_IDGenInput7"\n                        placeholder="ALT"\n                    /><Label id="_IDGenLabel49"\n                        text=" Bidder\'s Line"\n                    /><CheckBox id="_IDGenCheckBox"\n                    /><Label id="_IDGenLabel50"\n                        text="Supp.Line"\n                    /><CheckBox id="_IDGenCheckBox2"\n                    /><Label id="_IDGenLabel46"\n                        text="Cstg_Ls"/><CheckBox id="_IDGenCheckBox6"\n                    /></f:content></f:SimpleForm><m:buttons><m:Button\n                    id="_IDGenButton7"\n                    text="Add"\n                    type="Emphasized"\n                    press=".onAddModelSpecDetails"\n                /><m:Button\n                    id="_IDGenButton5"\n                    text="Cancel"\n                    press=".onCloseDialog"\n                /></m:buttons></m:Dialog><m:Dialog\n            id="formulaDialog"\n            title="Enter Formula Parameters"\n            class="sapUiContentPadding"><m:VBox id="formulaParamContainer" /><m:endButton><m:Button\n                    id="_IDGenButton8"\n                    text="OK"\n                    type="Emphasized"\n                    press=".onFormulaDialogOK"\n                /></m:endButton></m:Dialog></Page></mvc:View>',
	"project1/view/ServiceMaster.view.xml":'<mvc:View\n    controllerName="project1.controller.ServiceMaster"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:sap.m="sap.m"\n    xmlns:f="sap.f"\n    xmlns:w="sap.ui.integration.widgets"\n    xmlns:tnt="sap.tnt"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:table="sap.ui.table"\n    xmlns:layout="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns:m="sap.m"\n    xmlns:u="sap.ui.unified"\n    xmlns:macros="sap.fe.macros"\n><Page\n        id="_IDGenPage3"\n        title="Service Master"\n    ><Panel id="_IDGenPanel6"><HBox\n                id="_IDGenVBox"\n                class="sapUiSmallMargin"\n                justifyContent="Center"\n            ><SearchField\n                    id="_IDGenSearchField"\n                    class="sapUiSmallMargin"\n                    width="55%"\n                    liveChange="onSearch"\n                /><Button\n                    id="_IDGenButton23"\n                    text="Create"\n                    press="onNavigateToAddServiceMaster"\n                    class="sapUiSmallMargin"\n                    ariaDescribedBy="defaultButtonDescription genericButtonDescription"\n                /><Button\n                    id="_IDGenButton9"\n                    text="Details"\n                    press="onShowDetails"\n                    class="sapUiSmallMargin"\n                    ariaDescribedBy="defaultButtonDescription genericButtonDescription"\n                /><Button\n                    id="_IDGenButton10"\n                    text="Edit"\n                    press="onEdit"\n                    class="sapUiSmallMargin"\n                    ariaDescribedBy="defaultButtonDescription genericButtonDescription"\n                /><Button \n                id="_IDGenButton6"\n                    text="Delete"\n                    press="onDeletePress"\n                    class="sapUiSmallMargin"\n                    icon="sap-icon://delete"\n                    enabled="{= ${view>/ServiceNumbers}.length > 0 }"\n                     ariaDescribedBy="defaultButtonDescription genericButtonDescription"\n                /><Button\n                    id="_IDGenButton11"\n                    text="Copy"\n                    press="onCopy"\n                    class="sapUiSmallMargin"\n                    ariaDescribedBy="defaultButtonDescription genericButtonDescription"\n                /><Button\n                    id="_IDGenButton12"\n                    text="Export"\n                    press="onExport"\n                    class="sapUiSmallMargin"\n                    ariaDescribedBy="defaultButtonDescription genericButtonDescription"\n                /></HBox></Panel><Table\n            id="serviceMaster"\n            items="{view>/ServiceNumbers}"\n            mode="SingleSelectMaster"\n        ><columns><Column id="_IDGenColumn69"><Text\n                        id="_IDGenText81"\n                        text="Service Master Code"\n                    /></Column><Column id="_IDGenColumn70"><Text\n                        id="_IDGenText82"\n                        text="Search Term"\n                    /></Column><Column id="_IDGenColumn71"><Text\n                        id="_IDGenText83"\n                        text="Description"\n                    /></Column><Column id="_IDGenColumn72"><Text\n                        id="_IDGenText84"\n                        text="Last Change Date"\n                    /></Column><Column id="_IDGenColumn73"><Text\n                        id="_IDGenText85"\n                        text="Service Text"\n                    /></Column></columns><items><ColumnListItem id="_IDGenColumnListItem2"><cells><Text\n                            id="_IDGenText86"\n                            text="{view>serviceNumberCode}"\n                        /><Text\n                            id="_IDGenText87"\n                            text="{view>searchTerm}"\n                        /><Text\n                            id="_IDGenText88"\n                            text="{view>description}"\n                        /><Text\n                            id="_IDGenText89"\n                            text="{view>lastChangeDate}"\n                        /><Text\n                            id="_IDGenText90"\n                            text="{view>serviceText}"\n                        /></cells></ColumnListItem></items></Table></Page></mvc:View>\n',
	"project1/view/ServiceType.view.xml":'<mvc:View controllerName="project1.controller.ServiceType"\n    xmlns="sap.m"\n     xmlns:mvc="sap.ui.core.mvc"\n      xmlns:sap.m="sap.m"\n    xmlns:f="sap.f"\n    xmlns:w="sap.ui.integration.widgets"\n    xmlns:tnt="sap.tnt"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:table="sap.ui.table"\n    xmlns:layout="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n        xmlns:m="sap.m"\n        xmlns:u="sap.ui.unified"\n        \txmlns:macros="sap.fe.macros"><Page id="_IDGenPage2" title="Service Types"><headerContent><Button id="_IDGenButton3" icon="sap-icon://add" tooltip="Add" text="New Service Type" press="onOpenAddServiceTypeDialog" /></headerContent><Table id="serviceTable"   items="{path: \'/ServiceTypes\'}"><columns><Column id="_IDGenColumn1"><Text id="_IDGenText" text="Code" /></Column><Column id="_IDGenColumn2"><Text id="_IDGenText1" text="Description" /></Column><Column id="_IDGenColumn3"><Text id="_IDGenText2" text="Created On" /></Column><Column id="_IDGenColumn4"><Text id="_IDGenText3" text="Actions" /></Column></columns><items><ColumnListItem id="_IDGenColumnListItem"><cells><Text id="_IDGenText4" text="{serviceId}" /><Text id="_IDGenText5" text="{description}" /><Text id="_IDGenText6" text="{createdAt}" /><HBox id="_IDGenHBox"><Button id="_IDGenButton1" icon="sap-icon://edit" press="onEdit" /><Button id="_IDGenButton2" icon="sap-icon://delete" press="onDelete" /></HBox></cells></ColumnListItem></items></Table></Page></mvc:View>',
	"project1/view/View1.view.xml":'<mvc:View\n    controllerName="project1.controller.View1"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:sap.m="sap.m"\n    xmlns:f="sap.f"\n    xmlns:w="sap.ui.integration.widgets"\n    xmlns:tnt="sap.tnt"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:table="sap.ui.table"\n    xmlns:layout="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns:m="sap.m"\n    xmlns:u="sap.ui.unified"\n    xmlns:macros="sap.fe.macros"\n><Page\n        id="_IDGenPage"\n        title="SD App1"\n    ><content><HBox id="_IDGenHBox3"><GenericTile\n                    id="_IDGenGenericTile1"\n                    class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"\n                    header="Service Types"\n                    press="onNavigateToServiceType"\n                ><TileContent\n                        id="_IDGenTileContent"\n                        footer="Service Types Ops"\n                    ><ImageContent\n                            id="_IDGenImageContent"\n                            src="sap-icon://activity-items"\n                        /></TileContent></GenericTile><GenericTile\n                    id="_IDGenGenericTile3"\n                    class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"\n                    header="Service Master"\n                    press="onNavigateToServiceMaster"\n                ><TileContent\n                        id="_IDGenTileContent2"\n                        footer="Service Masters Ops"\n                    ><ImageContent\n                            id="_IDGenImageContent2"\n                            src="sap-icon://accelerated"\n                        /></TileContent></GenericTile><GenericTile\n                    id="_IDGenGenericTile2"\n                    class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"\n                    header="Models"\n                    press="onNavigateToModel"\n                ><TileContent\n                        id="_IDGenTileContent1"\n                        footer=" Models Ops"\n                    ><ImageContent\n                            id="_IDGenImageContent1"\n                            src="sap-icon://add-activity-2"\n                        /></TileContent></GenericTile><GenericTile\n                    id="_IDGenGenericTile4"\n                    class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"\n                    header="Formula"\n                    press="onNavigateToFormula"\n                ><TileContent\n                        id="_IDGenTileContent3"\n                        footer=" Formulas Ops"\n                    ><ImageContent\n                            id="_IDGenImageContent3"\n                            src="sap-icon://legend"\n                        /></TileContent></GenericTile></HBox></content></Page></mvc:View>\n'
});
//# sourceMappingURL=Component-preload.js.map
