sap.ui.define(["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("project1.controller.AddModel",{onInit(){var e=this.getView();var t=new sap.ui.model.json.JSONModel({});e.setModel(t,"view");fetch("./odata/v4/sales-cloud/Currencies").then(e=>e.json()).then(t=>{var s=new sap.ui.model.json.JSONModel(t.value);e.setModel(s,"currencies")})},onAddModel:function(){const e=this.byId("modelServSpec").getValue();const t=this.byId("blockingIndicator").getSelected();const s=this.byId("serviceSelection").getSelected();const o=this.byId("description");const r=o.getValue();const c=this.byId("searchTerm").getValue();const i=this.byId("currency");const n=this.byId("currency").getSelectedKey();if(!r){o.setValueState("Error");o.setValueStateText("Description is required");sap.m.MessageToast.show("Description is required");return}if(!n){i.setValueState("Error");i.setValueStateText("Currency is required");sap.m.MessageToast.show("Currency is required");return}const a={modelServSpec:e,blockingIndicator:t,serviceSelection:s,description:r,searchTerm:c,currencyCode:n,modelSpecCode:Math.floor(Date.now()/1e3),lastChangeDate:(new Date).toISOString().split("T")[0]};console.log(a);{}fetch("./odata/v4/sales-cloud/ModelSpecifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(e=>{if(!e.ok){console.log(e.statusText);throw new Error("Failed to create model: "+e.statusText)}return e.json()}).then(e=>{sap.m.MessageBox.success("Model saved successfully!,Press OK To return to the main page",{title:"Success",actions:[sap.m.MessageBox.Action.OK],onClose:function(e){if(e===sap.m.MessageBox.Action.OK){var t=sap.ui.core.UIComponent.getRouterFor(this);t.navTo("model")}}.bind(this)});this.byId("modelServSpec").setValue("");this.byId("blockingIndicator").setSelected(false);this.byId("serviceSelection").setSelected(false);this.byId("description").setValue("");this.byId("searchTerm").setValue("");this.byId("currency").setValue("")}).catch(e=>{sap.m.MessageBox.error("Error: "+e.message)})}})});
//# sourceMappingURL=AddModel.controller.js.map