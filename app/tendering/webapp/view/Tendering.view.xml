<mvc:View
    controllerName="tendering.controller.Tendering"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.ui.table"
    xmlns:m="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core"
    >

    <m:Page id="_IDGenPage1" title="Tendering">
             <m:VBox id="_IDGenVBox3" class="sapUiMediumMargin">
            <m:HBox id="_IDGenHBox" justifyContent="SpaceBetween" alignItems="Center">
                <m:Text id="_IDGenText11" text="Document: 20000010 " class=""/>
                <!-- {/DocumentNumber} -->
                <m:HBox id="_IDGenHBox1">
                    <m:Button id="_IDGenButton2" text="Save Document" icon="sap-icon://save" type="Transparent" press=".onSaveDocument"/>
                    <m:Button id="_IDGenButton3" text="Print" icon="sap-icon://print" type="Transparent" press=".onPrint"/>
                    <m:Button id="_IDGenButton4" text="Export" icon="sap-icon://download" type="Transparent" press=".onExport"/>
                    <m:Button id="_IDGenButton5" text="Import" icon="sap-icon://upload" type="Transparent" press=".onImport"/>
                    <m:Button id="_IDGenButton6" text="Delete" icon="sap-icon://delete" type="Transparent" press=".onDelete"/>
                </m:HBox>
            </m:HBox>
            <m:HBox id="_IDGenHBox2" class="sapUiSmallMarginTop">
                <m:Text id="_IDGenText12" text="Total Value:" class="sapUiSmallMarginEnd"/>
                <m:Text id="_IDGenText13" text="{/TotalValue}"/>
                <m:Text id="_IDGenText14" text="SAR" class="sapUiSmallMarginBegin"/>
            </m:HBox>
            </m:VBox>

 <m:VBox id="_IDGenVBox4" class="sapUiMediumMargin">
           
            <m:HBox id="_IDGenHBox4" class="sapUiSmallMarginTop" justifyContent="SpaceBetween" alignItems="Center">
              
                <m:SearchField 
                    id="searchField" 
                    width="80%" 
                    placeholder="Search..." 
                    search=".onSearch" />

               
                <m:HBox id="_IDGenHBox5">
                    <m:Input 
                        id="groupInput" 
                        type="Number" 
                        width="120px" 
                        placeholder="0"/>
                    <m:Button id="_IDGenButton1" 
                        text="Apply ProfitMargin" 
                        type="Emphasized" 
                        press=".onApplyProfitMargin" />
                </m:HBox>
            </m:HBox>

        </m:VBox>

<m:VBox id="_IDGenVBox">
        <TreeTable
            id="treeTable"
            rows="{
                path: '/MainItems',
                parameters: {
                    arrayNames: ['children']  
                }
            }"
             selectionMode="Single"
            visibleRowCount="5"
            expandFirstLevel="true">

            <columns>
                <Column id="_IDGenColumn">
                    <label><m:Text id="_IDGenText1" text="Item No"/></label>
                    <template>
                        <m:Text id="_IDGenText2" text="{MainItemNo}{SubItemNo}" />
                    </template>
                </Column>

                <Column id="_IDGenColumn1">
                    <label><m:Text id="_IDGenText3" text="Service No"/></label>
                    <template>
                        <m:Text id="_IDGenText4" text="{MainItemNo}{ServiceNo}" />
                    </template>
                </Column>

                <Column id="_IDGenColumn2">
                    <label><m:Text id="_IDGenText5" text="Description"/></label>
                    <template>
                        <m:Text id="_IDGenText6" text="{Description}" />
                    </template>
                </Column>

                <Column id="_IDGenColumn3">
                    <label><m:Text id="_IDGenText7" text="Quantity"/></label>
                    <template>
                        <m:Text id="_IDGenText8" text="{MainItemNo}{Quantity}" />
                    </template>
                </Column>

                <Column id="_IDGenColumn4">
                    <label><m:Text id="_IDGenText9" text="UOM"/></label>
                    <template>
                        <m:Text id="_IDGenText10" text="{UOM}" />
                    </template>
                </Column>
            </columns>
        </TreeTable>

        <!-- TreeTable as before -->




          <!-- Footer Row: MainItem Inputs -->
    <m:HBox id="_IDGenHBox6" class="sapUiSmallMargin sapUiTinyMarginTop">
        <m:Input id="mainItemNo" placeholder="Main Item No" width="10%"/>
        <m:Input id="mainServiceNo" placeholder="Service No" width="15%"/>
        <m:Input id="mainDescription" placeholder="Description" width="25%"/>
        <m:Input id="mainQuantity" placeholder="Quantity" width="15%"/>
        <m:Input id="mainUOM" placeholder="UOM" width="10%"/>
        <m:Button id="_IDGenButton7" text="Add Main Item" type="Emphasized" press=".onAddMainItem"/>
    </m:HBox>

    <!-- Footer Row: SubItem Inputs -->
    <m:HBox id="_IDGenHBox7" visible="false" class="sapUiSmallMargin sapUiTinyMarginTop">
        <m:Input id="subItemNo" placeholder="Sub Item No" width="10%"/>
        <m:Input id="subServiceNo" placeholder="Service No" width="15%"/>
        <m:Input id="subDescription" placeholder="Description" width="25%"/>
        <m:Input id="subQuantity" placeholder="Quantity" width="15%"/>
        <m:Input id="subUOM" placeholder="UOM" width="10%"/>
        <m:Button id="_IDGenButton8" text="Add Sub Item" type="Emphasized" press=".onAddSubItem"/>
    </m:HBox>
        </m:VBox>
    </m:Page>
</mvc:View>
